var e,t,n,i,a,r,o,s,l,c,d,u,h,p,f,g,v,y,_,m,b,w,k,x,A,D,E,$,S,C,F,O,j,R,P,H,T,M,N,L,I,q,z,U,B,V,G,Y,W,Z,X,J,K,Q,ee,te,ne,ie,ae,re,oe,se,le,ce,de,ue,he,pe,fe,ge,ve,ye,_e,me,be,we,ke,xe,Ae,De,Ee,$e,Se,Ce,Fe,Oe,je,Re,Pe,He;function Te(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function r(n,i,a,r){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return Me(c,"_invoke",function(n,i,a){var r,s,l,c=0,d=a||[],u=!1,h={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return r=t,s=0,l=e,h.n=n,o}};function p(n,i){for(s=n,l=i,t=0;!u&&c&&!a&&t<d.length;t++){var a,r=d[t],p=h.p,f=r[2];n>3?(a=f===i)&&(l=r[(s=r[4])?5:(s=3,3)],r[4]=r[5]=e):r[0]<=p&&((a=n<2&&p<r[1])?(s=0,h.v=i,h.n=r[1]):p<f&&(a=n<3||r[0]>i||i>f)&&(r[4]=n,r[5]=i,h.n=f,s=0))}if(a||n>1)return o;throw u=!0,i}return function(a,d,f){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&p(d,f),s=d,l=f;(t=s<2?e:l)||!u;){r||(s?s<3?(s>1&&(h.n=-1),p(s,l)):h.n=l:h.v=l);try{if(c=2,r){if(s||(a="next"),t=r[a]){if(!(t=t.call(r,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=r.return)&&t.call(r),s<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),s=1);r=e}else if((t=(u=h.n<0)?l:n.call(i,h))!==o)break}catch(t){r=e,s=1,l=t}finally{c=1}}return{value:t,done:u}}}(n,a,r),!0),c}var o={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var d=[][i]?t(t([][i]())):(Me(t={},i,function(){return this}),t),u=c.prototype=s.prototype=Object.create(d);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Me(e,a,"GeneratorFunction")),e.prototype=Object.create(u),e}return l.prototype=c,Me(u,"constructor",c),Me(c,"constructor",l),l.displayName="GeneratorFunction",Me(c,a,"GeneratorFunction"),Me(u),Me(u,a,"Generator"),Me(u,i,function(){return this}),Me(u,"toString",function(){return"[object Generator]"}),(Te=function(){return{w:r,m:h}})()}function Me(e,t,n,i){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Me=function(e,t,n,i){function r(t,n){Me(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(r("next",0),r("throw",1),r("return",2))},Me(e,t,n,i)}function Ne(e,t,n,i,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,a)}function Le(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ve(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,r,o,s=[],l=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=r.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||Ve(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function ze(e,t,n,i){var a=Ue(it(1&i?e.prototype:e),t,n);return 2&i&&"function"==typeof a?function(e){return a.apply(n,e)}:a}function Ue(){return Ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=it(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Ue.apply(null,arguments)}function Be(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ve(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){if(e){if("string"==typeof e)return Ge(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(e,t):void 0}}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach(function(t){Ze(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ze(e,t,n){return(t=et(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,et(i.key),i)}}function Qe(e,t,n){return t&&Ke(e.prototype,t),n&&Ke(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function et(e){var t=function(e,t){if("object"!=qe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=qe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qe(t)?t:t+""}function tt(e,t,n){return t=it(t),function(e,t){if(t&&("object"==qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nt()?Reflect.construct(t,n||[],it(e).constructor):t.apply(e,n))}function nt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(nt=function(){return!!e})()}function it(e){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},it(e)}function at(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rt(e,t)}function rt(e,t){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rt(e,t)}var ot=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),st=ot.prototype.html,lt=ot.prototype.css,ct=function(){function o(){return Je(this,o),tt(this,o,arguments)}return at(o,ot),Qe(o,[{key:"getCardHeader",value:function(){var t=this.hass.states[this.config.entity].attributes,n="string"==typeof t["prénom"]&&t["prénom"].length>0?t["prénom"]:t.nom_complet;return st(e||(e=Xe(['<div class="ed-card-header">\n      '," ","\n    </div>"])),this.header_title,n)}},{key:"noDataMessage",value:function(){return st(t||(t=Xe(['<div class="ed-card-no-data">',"</div>"])),this.no_data_message)}},{key:"render",value:function(){return this.config&&this.hass?(this.initCard(),this.hass.states[this.config.entity]?st(i||(i=Xe([' <ha-card id="','-card">\n        ',"\n        ","\n      </ha-card>"])),this.config.entity,this.config.display_header?this.getCardHeader():"",this.getCardContent()):st(a||(a=Xe(['<div class="ed-card-no-data">\n      Veuillez choisir une autre entité\n    </div>'])))):st(n||(n=Xe([""])))}},{key:"setConfig",value:function(e){if(!e.entity)throw new Error("You need to define an entity");this.config=We(We({},this.getDefaultConfig()),e)}},{key:"getItems",value:function(){var e=[],t=this.hass.states[this.config.entity];return e.push.apply(e,Be(t.attributes[this.items_attribute_key])),e}}],[{key:"properties",get:function(){return{config:{},hass:{},header_title:{type:String},no_data_message:{type:String}}}},{key:"styles",get:function(){return lt(r||(r=Xe(["\n      .ed-card-header {\n        text-align: center;\n      }\n      div {\n        padding: 12px;\n        font-weight: bold;\n        font-size: 1em;\n      }\n      .ed-card-no-data {\n        display: block;\n        padding: 8px;\n        text-align: center;\n        font-style: italic;\n      }\n    "])))}}])}(),dt=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),ut=dt.prototype.html,ht=dt.prototype.css;function pt(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}Date.prototype.getWeekNumber=function(){var e=new Date(+this);return e.setHours(0,0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7)),Math.ceil(((e-new Date(e.getFullYear(),0,1))/864e5+1)/7)};var ft=function(){function e(){var t;Je(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return Ze(t=tt(this,e,[].concat(i)),"lunchBreakRendered",!1),t}return at(e,ct),Qe(e,[{key:"initCard",value:function(){}},{key:"getBreakRow",value:function(e,t){return ut(o||(o=Xe([' <tr class="lunch-break ','">\n      <td></td>\n      <td><span></span></td>\n      <td colspan="2">\n        <span class="lesson-name">',"</span>\n      </td>\n    </tr>"])),t?"lesson-ended":"",e)}},{key:"getTimetableRow",value:function(e){var t=new Date,n=Date.parse(e.start_at),i=Date.parse(e.end_at),a=ut(s||(s=Xe([""])));this.config.display_lunch_break&&e.is_afternoon&&!this.lunchBreakRendered&&(a=this.getBreakRow("Repas",this.config.dim_ended_lessons&&n<t),this.lunchBreakRendered=!0);var r=ut(l||(l=Xe(['\n      <tr\n        class="'," ",'"\n      >\n        <td>\n          ',"<br />\n          ",'\n        </td>\n        <td>\n          <span style="background-color:','"></span>\n        </td>\n        <td>\n          <span class="lesson-name">',"</span>\n          ","\n          ","\n        </td>\n        <td>\n          ","\n        </td>\n      </tr>\n    "])),e.canceled?"lesson-canceled":"",this.config.dim_ended_lessons&&i<t?"lesson-ended":"",e.start_time,e.end_time,e.background_color,e.lesson,this.config.display_classroom?ut(c||(c=Xe(['<span class="lesson-classroom">\n                ',"\n                ","\n              </span>"])),e.classroom?"Salle "+e.classroom:"",e.classroom&&this.config.display_teacher?", ":""):"",this.config.display_teacher?ut(d||(d=Xe(['<span class="lesson-teacher"> '," </span>"])),e.teacher_name):"",e.status?ut(u||(u=Xe(['<span class="lesson-status">',"</span>"])),e.status):"");return ut(h||(h=Xe(["","",""])),a,r)}},{key:"getFormattedDate",value:function(e){return new Date(e.start_at).toLocaleDateString("fr-FR",{weekday:"long",day:"2-digit",month:"2-digit"}).replace(/^(.)/,function(e){return e.toUpperCase()})}},{key:"getFormattedTime",value:function(e){return new Intl.DateTimeFormat("fr-FR",{hour:"numeric",minute:"numeric"}).format(new Date(e))}},{key:"getDayHeader",value:function(e,t,n,i){var a=this;return ut(p||(p=Xe(['<div class="ed-timetable-header">\n      ','\n      <span class="ed-timetable-header-date"\n        >',"</span\n      >\n      ","\n      ","\n    </div>"])),this.config.enable_slider?ut(f||(f=Xe(['<span\n            class="ed-timetable-header-arrow-left ','"\n            @click=',"\n            >←</span\n          >"])),0===i?"disabled":"",function(e){return a.changeDay("previous",e)}):"",this.getFormattedDate(e),this.config.display_day_hours&&t&&n?ut(g||(g=Xe(['<span class="ed-timetable-header-hours">\n            '," -\n            ","\n          </span>"])),this.getFormattedTime(t),this.getFormattedTime(n)):"",this.config.enable_slider?ut(v||(v=Xe(['<span\n            class="ed-timetable-header-arrow-right"\n            @click=',"\n            >→</span\n          >"])),function(e){return a.changeDay("next",e)}):"")}},{key:"changeDay",value:function(e,t){if(t.preventDefault(),!t.target.classList.contains("disabled")){var n=t.target.parentElement.parentElement,i=n.previousElementSibling&&n.previousElementSibling.classList.contains("ed-timetable-day-wrapper"),a=n.nextElementSibling&&n.nextElementSibling.classList.contains("ed-timetable-day-wrapper"),r=null;"previous"===e&&i?r=n.previousElementSibling:"next"===e&&a&&(r=n.nextElementSibling),r&&(n.classList.remove("active"),r.classList.add("active"),i=r.previousElementSibling&&r.previousElementSibling.classList.contains("ed-timetable-day-wrapper"),a=r.nextElementSibling&&r.nextElementSibling.classList.contains("ed-timetable-day-wrapper"),i||r.querySelector(".ed-timetable-header-arrow-left").classList.add("disabled"),a||r.querySelector(".ed-timetable-header-arrow-right").classList.add("disabled"))}}},{key:"render",value:function(){if(!this.config||!this.hass)return ut(y||(y=Xe([""])));var e=this.hass.states[this.config.entity],t=this.hass.states[this.config.entity].attributes.lessons;if(e){this.lunchBreakRendered=!1;for(var n=[],i=[],a=0,r=null,o=null,s=new Date,l=0,c=0;c<t.length;c++){var d=t[c],u=this.getFormattedDate(d),h=new Date(d.end_at);if(d.canceled||(null===r&&(r=d.start_at),o=d.end_at),d.canceled&&c<t.length-1){var p=t[c+1];if(d.start_at===p.start_at&&!p.canceled)continue}if(i.push(this.getTimetableRow(d)),c+1>=t.length||c+1<t.length&&u!==this.getFormattedDate(t[c+1]))this.config.enable_slider&&this.config.switch_to_next_day&&pt(h,s)&&h<s&&(l=a+1),n.push(ut(_||(_=Xe(['\n            <div\n              class="'," ed-timetable-day-wrapper ",'"\n            >\n              ',"\n              <table>\n                ","\n              </table>\n            </div>\n          "])),this.config.enable_slider?"slider-enabled":"",a===l?"active":"",this.getDayHeader(d,r,o,a),i)),i=[],this.lunchBreakRendered=!1,r=null,o=null,a++;else if(this.config.display_free_time_slots&&c+1<t.length){var f=new Date(d.end_at),g=t[c+1],v=new Date(g.start_at);if(d.is_morning===g.is_morning&&Math.floor((v-f)/1e3/60)>30){var w=new Date;i.push(this.getBreakRow("Pas de cours",this.config.dim_ended_lessons&&v<w))}}}return i.length>0&&n.push(ut(m||(m=Xe(["<table>\n            ","\n          </table>"])),i)),ut(b||(b=Xe([' <ha-card\n        id="','-card"\n        class="','"\n      >\n        ',"\n        ","\n      </ha-card>"])),this.config.entity,this.config.enable_slider?"ed-timetable-card-slider":"",this.config.display_header?this.getCardHeader():"",n)}}},{key:"setConfig",value:function(e){if(!e.entity)throw new Error("You need to define an entity");this.config=We(We({},{entity:null,display_header:!0,display_lunch_break:!0,display_classroom:!0,display_teacher:!0,display_day_hours:!0,dim_ended_lessons:!0,enable_slider:!1,display_free_time_slots:!0,switch_to_next_day:!1}),e),this.header_title="Emploi du temps de ",this.no_data_message="Pas d'emploi du temps à afficher"}}],[{key:"styles",get:function(){return ht(w||(w=Xe(["\n      ","\n      .ed-timetable-card-slider .ed-timetable-day-wrapper {\n        display: none;\n      }\n      .ed-timetable-card-slider .ed-timetable-day-wrapper.active {\n        display: block;\n      }\n      .ed-timetable-card-slider .ed-timetable-header-date {\n        display: inline-block;\n        text-align: center;\n        width: 120px;\n      }\n      .ed-timetable-header-arrow-left,\n      .ed-timetable-header-arrow-right {\n        cursor: pointer;\n      }\n      .ed-timetable-header-arrow-left.disabled,\n      .ed-timetable-header-arrow-right.disabled {\n        opacity: 0.3;\n        pointer-events: none;\n      }\n      span.ed-timetable-header-hours {\n        float: right;\n      }\n      table {\n        clear: both;\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      tr:nth-child(odd) {\n        background-color: rgba(0, 0, 0, 0.1);\n      }\n      td {\n        vertical-align: middle;\n        padding: 5px 10px 5px 10px;\n        text-align: left;\n      }\n      tr td:first-child {\n        width: 13%;\n        text-align: right;\n      }\n      span.lesson-name {\n        font-weight: bold;\n        display: block;\n      }\n      tr td:nth-child(2) {\n        width: 4px;\n        padding: 5px 0;\n      }\n      tr td:nth-child(2) > span {\n        display: inline-block;\n        width: 4px;\n        height: 3rem;\n        border-radius: 4px;\n        background-color: grey;\n        margin-top: 4px;\n      }\n      span.lesson-status {\n        color: white;\n        background-color: rgb(75, 197, 253);\n        padding: 4px;\n        border-radius: 4px;\n      }\n      .lesson-canceled span.lesson-name {\n        text-decoration: line-through;\n      }\n      .lesson-canceled span.lesson-status {\n        background-color: rgb(250, 50, 75);\n      }\n      .lesson-ended {\n        opacity: 0.3;\n      }\n      div:not(.slider-enabled).ed-timetable-day-wrapper\n        + div:not(.slider-enabled).ed-timetable-day-wrapper {\n        border-top: 1px solid white;\n      }\n    "])),ze(e,"styles",this))}},{key:"getStubConfig",value:function(){return{display_header:!0,display_lunch_break:!0,display_classroom:!0,display_teacher:!0,display_day_hours:!0,dim_ended_lessons:!0,enable_slider:!1,display_free_time_slots:!0,switch_to_next_day:!1}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-timetable-card-editor")}}])}();customElements.define("ecole_directe-timetable-card",ft),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-timetable-card",name:"Carte de l'emploi du temps pour Ecole Directe",description:"Affiche l'emploi du temps pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#timetable"});
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var gt=globalThis,vt=gt.trustedTypes,yt=vt?vt.createPolicy("lit-html",{createHTML:function(e){return e}}):void 0,_t="$lit$",mt="lit$".concat(Math.random().toFixed(9).slice(2),"$"),bt="?"+mt,wt="<".concat(bt,">"),kt=document,xt=function(){return kt.createComment("")},At=function(e){return null===e||"object"!=qe(e)&&"function"!=typeof e},Dt=Array.isArray,Et="[ \t\n\f\r]",$t=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,St=/-->/g,Ct=/>/g,Ft=RegExp(">|".concat(Et,"(?:([^\\s\"'>=/]+)(").concat(Et,"*=").concat(Et,"*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),Ot=/'/g,jt=/"/g,Rt=/^(?:script|style|textarea|title)$/i,Pt=Symbol.for("lit-noChange"),Ht=Symbol.for("lit-nothing"),Tt=new WeakMap,Mt=kt.createTreeWalker(kt,129);function Nt(e,t){if(!Dt(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==yt?yt.createHTML(t):t}var Lt=function(e,t){for(var n,i=e.length-1,a=[],r=2===t?"<svg>":3===t?"<math>":"",o=$t,s=0;s<i;s++){for(var l=e[s],c=void 0,d=void 0,u=-1,h=0;h<l.length&&(o.lastIndex=h,null!==(d=o.exec(l)));)h=o.lastIndex,o===$t?"!--"===d[1]?o=St:void 0!==d[1]?o=Ct:void 0!==d[2]?(Rt.test(d[2])&&(n=RegExp("</"+d[2],"g")),o=Ft):void 0!==d[3]&&(o=Ft):o===Ft?">"===d[0]?(o=null!=n?n:$t,u=-1):void 0===d[1]?u=-2:(u=o.lastIndex-d[2].length,c=d[1],o=void 0===d[3]?Ft:'"'===d[3]?jt:Ot):o===jt||o===Ot?o=Ft:o===St||o===Ct?o=$t:(o=Ft,n=void 0);var p=o===Ft&&e[s+1].startsWith("/>")?" ":"";r+=o===$t?l+wt:u>=0?(a.push(c),l.slice(0,u)+_t+l.slice(u)+mt+p):l+mt+(-2===u?s:p)}return[Nt(e,r+(e[i]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),a]},It=function(){return Qe(function e(t,n){var i,a=t.strings,r=t._$litType$;Je(this,e),this.parts=[];var o=0,s=0,l=a.length-1,c=this.parts,d=Ie(Lt(a,r),2),u=d[0],h=d[1];if(this.el=e.createElement(u,n),Mt.currentNode=this.el.content,2===r||3===r){var p=this.el.content.firstChild;p.replaceWith.apply(p,Be(p.childNodes))}for(;null!==(i=Mt.nextNode())&&c.length<l;){if(1===i.nodeType){if(i.hasAttributes()){var f,g=Le(i.getAttributeNames());try{for(g.s();!(f=g.n()).done;){var v=f.value;if(v.endsWith(_t)){var y=h[s++],_=i.getAttribute(v).split(mt),m=/([.?@])?(.*)/.exec(y);c.push({type:1,index:o,name:m[2],strings:_,ctor:"."===m[1]?Vt:"?"===m[1]?Gt:"@"===m[1]?Yt:Bt}),i.removeAttribute(v)}else v.startsWith(mt)&&(c.push({type:6,index:o}),i.removeAttribute(v))}}catch(e){g.e(e)}finally{g.f()}}if(Rt.test(i.tagName)){var b=i.textContent.split(mt),w=b.length-1;if(w>0){i.textContent=vt?vt.emptyScript:"";for(var k=0;k<w;k++)i.append(b[k],xt()),Mt.nextNode(),c.push({type:2,index:++o});i.append(b[w],xt())}}}else if(8===i.nodeType)if(i.data===bt)c.push({type:2,index:o});else for(var x=-1;-1!==(x=i.data.indexOf(mt,x+1));)c.push({type:7,index:o}),x+=mt.length-1;o++}},null,[{key:"createElement",value:function(e,t){var n=kt.createElement("template");return n.innerHTML=e,n}}])}();function qt(e,t){var n,i,a,r,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=arguments.length>3?arguments[3]:void 0;if(t===Pt)return t;var c=void 0!==l?null===(n=s._$Co)||void 0===n?void 0:n[l]:s._$Cl,d=At(t)?void 0:t._$litDirective$;return(null===(i=c)||void 0===i?void 0:i.constructor)!==d&&(null!==(a=c)&&void 0!==a&&null!==(r=a._$AO)&&void 0!==r&&r.call(a,!1),void 0===d?c=void 0:(c=new d(e))._$AT(e,s,l),void 0!==l?(null!==(o=s._$Co)&&void 0!==o?o:s._$Co=[])[l]=c:s._$Cl=c),void 0!==c&&(t=qt(e,c._$AS(e,t.values),c,l)),t}var zt=function(){return Qe(function e(t,n){Je(this,e),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n},[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var t,n=this._$AD,i=n.el.content,a=n.parts,r=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:kt).importNode(i,!0);Mt.currentNode=r;for(var o=Mt.nextNode(),s=0,l=0,c=a[0];void 0!==c;){var d;if(s===c.index){var u=void 0;2===c.type?u=new Ut(o,o.nextSibling,this,e):1===c.type?u=new c.ctor(o,c.name,c.strings,this,e):6===c.type&&(u=new Wt(o,this,e)),this._$AV.push(u),c=a[++l]}s!==(null===(d=c)||void 0===d?void 0:d.index)&&(o=Mt.nextNode(),s++)}return Mt.currentNode=kt,r}},{key:"p",value:function(e){var t,n=0,i=Le(this._$AV);try{for(i.s();!(t=i.n()).done;){var a=t.value;void 0!==a&&(void 0!==a.strings?(a._$AI(e,a,n),n+=a.strings.length-2):a._$AI(e[n])),n++}}catch(e){i.e(e)}finally{i.f()}}}])}(),Ut=function(){function e(t,n,i,a){var r;Je(this,e),this.type=2,this._$AH=Ht,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=i,this.options=a,this._$Cv=null===(r=null==a?void 0:a.isConnected)||void 0===r||r}return Qe(e,[{key:"_$AU",get:function(){var e,t;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cv}},{key:"parentNode",get:function(){var e,t=this._$AA.parentNode,n=this._$AM;return void 0!==n&&11===(null===(e=t)||void 0===e?void 0:e.nodeType)&&(t=n.parentNode),t}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){e=qt(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this),At(e)?e===Ht||null==e||""===e?(this._$AH!==Ht&&this._$AR(),this._$AH=Ht):e!==this._$AH&&e!==Pt&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):function(e){return Dt(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator])}(e)?this.k(e):this._(e)}},{key:"O",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"T",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}},{key:"_",value:function(e){this._$AH!==Ht&&At(this._$AH)?this._$AA.nextSibling.data=e:this.T(kt.createTextNode(e)),this._$AH=e}},{key:"$",value:function(e){var t,n=e.values,i=e._$litType$,a="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=It.createElement(Nt(i.h,i.h[0]),this.options)),i);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===a)this._$AH.p(n);else{var r=new zt(a,this),o=r.u(this.options);r.p(n),this.T(o),this._$AH=r}}},{key:"_$AC",value:function(e){var t=Tt.get(e.strings);return void 0===t&&Tt.set(e.strings,t=new It(e)),t}},{key:"k",value:function(t){Dt(this._$AH)||(this._$AH=[],this._$AR());var n,i,a=this._$AH,r=0,o=Le(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;r===a.length?a.push(n=new e(this.O(xt()),this.O(xt()),this,this.options)):n=a[r],n._$AI(s),r++}}catch(e){o.e(e)}finally{o.f()}r<a.length&&(this._$AR(n&&n._$AB.nextSibling,r),a.length=r)}},{key:"_$AR",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,t=arguments.length>1?arguments[1]:void 0;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,t);e!==this._$AB;){var n,i=e.nextSibling;e.remove(),e=i}}},{key:"setConnected",value:function(e){var t;void 0===this._$AM&&(this._$Cv=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}])}(),Bt=function(){return Qe(function e(t,n,i,a,r){Je(this,e),this.type=1,this._$AH=Ht,this._$AN=void 0,this.element=t,this.name=n,this._$AM=a,this.options=r,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Ht},[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=this.strings,r=!1;if(void 0===a)e=qt(this,e,t,0),(r=!At(e)||e!==this._$AH&&e!==Pt)&&(this._$AH=e);else{var o,s,l=e;for(e=a[0],o=0;o<a.length-1;o++)(s=qt(this,l[n+o],t,o))===Pt&&(s=this._$AH[o]),r||(r=!At(s)||s!==this._$AH[o]),s===Ht?e=Ht:e!==Ht&&(e+=(null!=s?s:"")+a[o+1]),this._$AH[o]=s}r&&!i&&this.j(e)}},{key:"j",value:function(e){e===Ht?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}])}(),Vt=function(){function e(){var t;return Je(this,e),(t=tt(this,e,arguments)).type=3,t}return at(e,Bt),Qe(e,[{key:"j",value:function(e){this.element[this.name]=e===Ht?void 0:e}}])}(),Gt=function(){function e(){var t;return Je(this,e),(t=tt(this,e,arguments)).type=4,t}return at(e,Bt),Qe(e,[{key:"j",value:function(e){this.element.toggleAttribute(this.name,!!e&&e!==Ht)}}])}(),Yt=function(){function e(t,n,i,a,r){var o;return Je(this,e),(o=tt(this,e,[t,n,i,a,r])).type=5,o}return at(e,Bt),Qe(e,[{key:"_$AI",value:function(e){var t;if((e=null!==(t=qt(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,0))&&void 0!==t?t:Ht)!==Pt){var n=this._$AH,i=e===Ht&&n!==Ht||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,a=e!==Ht&&(n===Ht||i);i&&this.element.removeEventListener(this.name,this,n),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}}},{key:"handleEvent",value:function(e){var t,n;"function"==typeof this._$AH?this._$AH.call(null!==(t=null===(n=this.options)||void 0===n?void 0:n.host)&&void 0!==t?t:this.element,e):this._$AH.handleEvent(e)}}])}(),Wt=function(){return Qe(function e(t,n,i){Je(this,e),this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){qt(this,e)}}])}(),Zt=gt.litHtmlPolyfillSupport;null!=Zt&&Zt(It,Ut),(null!==(k=gt.litHtmlVersions)&&void 0!==k?k:gt.litHtmlVersions=[]).push("3.3.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var Xt=2,Jt=function(){return Qe(function e(t){Je(this,e)},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}},{key:"_$AS",value:function(e,t){return this.update(e,t)}},{key:"update",value:function(e,t){return this.render.apply(this,Be(t))}}])}(),Kt=function(){function e(t){var n;if(Je(this,e),(n=tt(this,e,[t])).it=Ht,t.type!==Xt)throw Error(n.constructor.directiveName+"() can only be used in child bindings");return n}return at(e,Jt),Qe(e,[{key:"render",value:function(e){if(e===Ht||null==e)return this._t=void 0,this.it=e;if(e===Pt)return e;if("string"!=typeof e)throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;var t=[e];return t.raw=t,this._t={_$litType$:this.constructor.resultType,strings:t,values:[]}}}])}();Kt.directiveName="unsafeHTML",Kt.resultType=1;var Qt=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return{_$litDirective$:e,values:n}}}(Kt),en=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),tn=en.prototype.html,nn=en.prototype.css;Date.prototype.getWeekNumber=function(){var e=new Date(+this);return e.setHours(0,0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7)),Math.ceil(((e-new Date(e.getFullYear(),0,1))/864e5+1)/7)};var an=function(){function e(){var t;Je(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return Ze(t=tt(this,e,[].concat(i)),"lunchBreakRendered",!1),t}return at(e,ct),Qe(e,[{key:"initCard",value:function(){}},{key:"getFormattedDate",value:function(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"long",day:"2-digit",month:"2-digit"}).replace(/^(.)/,function(e){return e.toUpperCase()})}},{key:"getDayHeader",value:function(e,t){var n=this;return tn(x||(x=Xe(['<div class="ed-devoir-header">\n      ','\n      <span class="ed-devoir-header-date"\n        >',"</span\n      >\n      ","\n    </div>"])),this.config.enable_slider?tn(A||(A=Xe(['<span\n            class="ed-devoir-header-arrow-left ','"\n            @click=',"\n            >←</span\n          >"])),0===t?"disabled":"",function(e){return n.changeDay("previous",e)}):"",this.getFormattedDate(e.date),this.config.enable_slider?tn(D||(D=Xe(['<span\n            class="ed-devoir-header-arrow-right"\n            @click=',"\n            >→</span\n          >"])),function(e){return n.changeDay("next",e)}):"")}},{key:"changeDay",value:function(e,t){if(t.preventDefault(),!t.target.classList.contains("disabled")){var n=t.target.parentElement.parentElement,i=n.previousElementSibling&&n.previousElementSibling.classList.contains("ed-devoir-day-wrapper"),a=n.nextElementSibling&&n.nextElementSibling.classList.contains("ed-devoir-day-wrapper"),r=null;"previous"===e&&i?r=n.previousElementSibling:"next"===e&&a&&(r=n.nextElementSibling),r&&(n.classList.remove("active"),r.classList.add("active"),i=r.previousElementSibling&&r.previousElementSibling.classList.contains("ed-devoir-day-wrapper"),a=r.nextElementSibling&&r.nextElementSibling.classList.contains("ed-devoir-day-wrapper"),i||r.querySelector(".ed-devoir-header-arrow-left").classList.add("disabled"),a||r.querySelector(".ed-devoir-header-arrow-right").classList.add("disabled"))}}},{key:"getdevoirRow",value:function(e,t){var n=e.description.trim().replace("\n","<br />");return tn(E||(E=Xe(['\n      <tr class="','">\n        <td class="devoir-detail">\n          <label for="devoir-','">\n            <span class="devoir-subject">',"</span>\n            ",'\n          </label>\n          <input type="checkbox" id="devoir-','" />\n          <span class="devoir-description">','</span>\n        </td>\n        <td class="devoir-status">\n          <span\n            >',"</span\n          >\n        </td>\n      </tr>\n    "])),e.done?"devoir-done":"",t,e.subject,e.interrogation?tn($||($=Xe(['<span class="devoir-controle">(Controle)</span>']))):tn(S||(S=Xe([""]))),t,Qt(n),e.done?tn(C||(C=Xe(['<ha-icon icon="mdi:check"></ha-icon>']))):tn(F||(F=Xe(['<ha-icon icon="mdi:account-clock"></ha-icon>']))))}},{key:"getDayRow",value:function(e,t,n){return tn(O||(O=Xe(['\n      <div\n        class="'," ed-devoir-day-wrapper ",'"\n      >\n        ','\n        <table class="','">\n          ',"\n        </table>\n      </div>\n    "])),this.config.enable_slider?"slider-enabled":"",0===n?"active":"",this.getDayHeader(e,n),this.config.reduce_done_devoir?"reduce-done":"",t)}},{key:"render",value:function(){if(!this.config||!this.hass)return tn(j||(j=Xe([""])));var e=this.hass.states[this.config.entity],t=this.hass.states[this.config.entity].attributes.devoir;if(e){var n=[],i=[],a=0;if(t&&t.length>0){if(t[0].Erreur)return tn(R||(R=Xe(['<div class="ed-card-no-data">',"</div>"])),t[0].Erreur);for(var r=this.getFormattedDate(t[0].date),o=0;o<t.length;o++){var s=t[o],l=this.getFormattedDate(s.date);!0===s.done&&!1===this.config.display_done_devoir||(r!==l&&(i.length>0&&(n.push(this.getDayRow(t[o-1],i,a)),i=[]),r=l,a++),i.push(this.getdevoirRow(s,o)))}i.length>0&&n.push(this.getDayRow(t[t.length-1],i,a))}return 0===n.length&&n.push(this.noDataMessage()),tn(P||(P=Xe([' <ha-card\n        id="','-card"\n        class="','"\n      >\n        ',"\n        ","\n      </ha-card>"])),this.config.entity,this.config.enable_slider?"ed-devoir-card-slider":"",this.config.display_header?this.getCardHeader():"",n)}return tn(H||(H=Xe(['<div class="ed-card-no-data">\n      Veuillez choisir une autre entité\n    </div>'])))}},{key:"setConfig",value:function(e){if(!e.entity)throw new Error("You need to define an entity");this.config=We(We({},{entity:null,display_header:!0,reduce_done_devoir:!0,display_done_devoir:!0,enable_slider:!1}),e),this.header_title="Devoirs de ",this.no_data_message="Pas de devoirs à faire"}}],[{key:"styles",get:function(){return nn(T||(T=Xe(["\n      ","\n      .ed-devoir-card-slider .ed-devoir-day-wrapper {\n        display: none;\n      }\n      .ed-devoir-card-slider .ed-devoir-day-wrapper.active {\n        display: block;\n      }\n      .ed-devoir-card-slider .ed-devoir-header-date {\n        display: inline-block;\n        text-align: center;\n        width: 120px;\n      }\n      .ed-devoir-header-arrow-left,\n      .ed-devoir-header-arrow-right {\n        cursor: pointer;\n      }\n      .ed-devoir-header-arrow-left.disabled,\n      .ed-devoir-header-arrow-right.disabled {\n        opacity: 0.3;\n        pointer-events: none;\n      }\n      div:not(.slider-enabled) > .ed-devoir-header {\n        border-bottom: 2px solid grey;\n      }\n      .slider-enabled > .ed-devoir-header {\n        padding-top: 0;\n        text-align: center;\n      }\n      table {\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      td {\n        vertical-align: top;\n        padding: 5px 10px 5px 10px;\n        padding-top: 8px;\n        text-align: left;\n      }\n      td.devoir-detail {\n        padding: 0;\n        padding-top: 8px;\n        padding-bottom: 8px;\n      }\n      span.devoir-subject {\n        display: block;\n        font-weight: bold;\n      }\n      span.devoir-controle {\n        display: block;\n        font-weight: bold;\n        color: red;\n      }\n      span.devoir-description {\n        font-size: 0.9em;\n      }\n      td.devoir-status {\n        width: 5%;\n      }\n      .reduce-done .devoir-done label:hover {\n        cusor: pointer;\n      }\n      .reduce-done .devoir-done .devoir-description {\n        display: none;\n      }\n      .reduce-done .devoir-done input:checked + .devoir-description {\n        display: block;\n      }\n      .devoir-detail input {\n        display: none;\n      }\n    "])),ze(e,"styles",this))}},{key:"getStubConfig",value:function(){return{display_header:!0,reduce_done_devoir:!0,display_done_devoir:!0,enable_slider:!1}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-devoir-card-editor")}}])}();customElements.define("ecole_directe-devoir-card",an),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-devoir-card",name:"Carte des devoirs pour Ecole Directe",description:"Affiche les devoirs pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#devoir"});var rn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),on=rn.prototype.html,sn=rn.prototype.css,ln=function(){function e(){return Je(this,e),tt(this,e,arguments)}return at(e,ct),Qe(e,[{key:"initCard",value:function(){this.items_attribute_key="grades",this.header_title="Notes de ",this.no_data_message="Aucune note disponible"}},{key:"getFormattedDate",value:function(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"short",day:"2-digit",month:"2-digit"}).replace(/^(.)/,function(e){return e.toUpperCase()})}},{key:"getGradeRow",value:function(e){var t=parseFloat(e.grade.replace(",",".")),n=[];if(null!==this.config.compare_with_ratio){var i=parseFloat(this.config.compare_with_ratio),a=t/parseFloat(e.out_of.replace(",","."));n.push(a>=i?"above-ratio":"below-ratio")}else if(this.config.compare_with_class_average&&e.class_average){var r=parseFloat(e.class_average.replace(",","."));n.push(t>r?"above-average":"below-average")}var o=e.grade_out_of;if("short"===this.config.grade_format&&(o=e.grade),this.config.display_new_grade_notice){var s=new Date(e.date),l=new Date;s.getFullYear()===l.getFullYear()&&s.getMonth()===l.getMonth()&&s.getDate()===l.getDate()&&n.push("new-grade")}return on(M||(M=Xe(['\n      <tr class="','">\n        <td class="grade-color"><span></span></td>\n        <td class="grade-description">\n          <span class="grade-subject">',"</span>\n          ","\n          ","\n          ",'\n        </td>\n        <td class="grade-detail">\n          <span class="grade-value">',"</span>\n          ","\n          ","\n          ","\n        </td>\n      </tr>\n    "])),n.join(" "),e.subject,this.config.display_comment?on(N||(N=Xe(['<span class="grade-comment">',"</span>"])),e.comment):"",this.config.display_date?on(L||(L=Xe(['<span class="grade-date"\n                >',"</span\n              >"])),this.getFormattedDate(e.date)):"",this.config.display_coefficient&&e.coefficient?on(I||(I=Xe(['<span class="grade-coefficient"\n                >Coef. ',"</span\n              >"])),e.coefficient):"",o,this.config.display_class_average&&e.class_average?on(q||(q=Xe(['<span class="grade-class-average"\n                >Moy. ',"</span\n              >"])),e.class_average):"",this.config.display_class_min&&e.min?on(z||(z=Xe(['<span class="grade-class-min">Min. ',"</span>"])),e.min):"",this.config.display_class_max&&e.max?on(U||(U=Xe(['<span class="grade-class-max">Max. ',"</span>"])),e.max):"")}},{key:"getCardContent",value:function(){var e,t=this.hass.states[this.config.entity],n=this.getItems(),i=null!==(e=this.config.max_grades)&&void 0!==e?e:n.length;if(t){for(var a=[],r=[],o=0;o<i&&!(o>=n.length);o++){var s=n[o];a.push(this.getGradeRow(s))}return a.length>0?r.push(on(B||(B=Xe(["<table>\n            ","\n          </table>"])),a)):r.push(this.noDataMessage()),r}}},{key:"getDefaultConfig",value:function(){return{grade_format:"full",display_header:!0,display_date:!0,display_comment:!0,display_class_average:!0,compare_with_class_average:!0,compare_with_ratio:null,display_coefficient:!0,display_class_min:!0,display_class_max:!0,display_new_grade_notice:!0,max_grades:null}}}],[{key:"styles",get:function(){return sn(V||(V=Xe(["\n      ",'\n      table {\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      td {\n        vertical-align: top;\n        padding: 5px 10px 5px 10px;\n        padding-top: 8px;\n        text-align: left;\n      }\n      td.grade-color {\n        width: 4px;\n        padding-top: 11px;\n      }\n      td.grade-color > span {\n        display: inline-block;\n        width: 4px;\n        height: 1rem;\n        border-radius: 4px;\n        background-color: grey;\n      }\n      .above-average .grade-color > span,\n      .above-ratio .grade-color > span {\n        background-color: green;\n      }\n      .below-average .grade-color > span,\n      .below-ratio .grade-color > span {\n        background-color: orange;\n      }\n      .grade-description {\n        padding-left: 0;\n      }\n      .grade-subject {\n        display: inline-block;\n        font-weight: bold;\n        position: relative;\n      }\n      .new-grade .grade-subject:after {\n        content: " ";\n        display: block;\n        width: 6px;\n        height: 6px;\n        border-radius: 6px;\n        background-color: orange;\n        position: absolute;\n        top: 6px;\n        right: -14px;\n      }\n      .grade-comment {\n        display: block;\n      }\n      .grade-date,\n      .grade-coefficient {\n        font-size: 0.9em;\n        color: gray;\n      }\n      .grade-date + .grade-coefficient:before {\n        content: " - ";\n      }\n      .grade-detail {\n        text-align: right;\n      }\n      .grade-value {\n        font-weight: bold;\n      }\n      .grade-value,\n      .grade-class-average {\n        display: block;\n      }\n      .grade-class-average,\n      .grade-class-min,\n      .grade-class-max {\n        font-size: 0.9em;\n        color: gray;\n      }\n      .grade-class-min + .grade-class-max:before {\n        content: " - ";\n      }\n    '])),ze(e,"styles",this))}},{key:"getStubConfig",value:function(){return{grade_format:"full",display_header:!0,display_date:!0,display_comment:!0,display_class_average:!0,compare_with_class_average:!0,compare_with_ratio:null,display_coefficient:!0,display_class_min:!0,display_class_max:!0,display_new_grade_notice:!0,max_grades:null}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-grades-card-editor")}}])}();customElements.define("ecole_directe-grades-card",ln),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-grades-card",name:"Carte des notes pour Ecole Directe",description:"Affiche les notes pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#grades"});var cn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),dn=cn.prototype.html,un=cn.prototype.css,hn=function(){function e(){return Je(this,e),tt(this,e,arguments)}return at(e,ct),Qe(e,[{key:"initCard",value:function(){this.items_attribute_key="averages",this.header_title="Moyennes de ",this.no_data_message="Aucune moyenne"}},{key:"getOverallAverageRow",value:function(){var e="".concat(this.config.entity,"_overall_average");if(!this.hass.states[e])return dn(G||(G=Xe([""])));var t=this.hass.states[e].state;if(!t)return dn(Y||(Y=Xe([""])));var n=parseFloat(t.replace(",",".")),i=[];if(null!==this.config.compare_with_ratio){var a=parseFloat(this.config.compare_with_ratio),r=n/parseFloat(t.out_of.replace(",","."));i.push(r>=a?"above-ratio":"below-ratio")}return dn(W||(W=Xe(['\n      <tr class="',' overall-average">\n        <td class="average-color"><span></span></td>\n        <td class="average-description">\n          <span class="average-subject">Moyenne générale</span>\n        </td>\n        <td class="average-detail">\n          <span class="average-value"\n            ><span>',"</span></span\n          >\n        </td>\n      </tr>\n    "])),i.join(" "),t.replace(".",","))}},{key:"getAverageRow",value:function(e){var t=parseFloat(e.average.replace(",",".")),n=[];if(null!==this.config.compare_with_ratio){var i=parseFloat(this.config.compare_with_ratio),a=t/parseFloat(e.out_of.replace(",","."));n.push(a>=i?"above-ratio":"below-ratio")}else if(this.config.compare_with_class_average&&e.class){var r=parseFloat(e.class.replace(",","."));n.push(t>r?"above-average":"below-average")}var o=e.average+"/"+e.out_of;return"short"===this.config.average_format&&(o=e.average),dn(Z||(Z=Xe(['\n      <tr class="','">\n        <td class="average-color">\n          <span style="background-color:','"></span>\n        </td>\n        <td class="average-description">\n          <span class="average-subject">','</span>\n        </td>\n        <td class="average-detail">\n          <span class="average-value">',"</span>\n          ","\n          ","\n          ","\n        </td>\n      </tr>\n    "])),n.join(" "),e.background_color,e.subject,o,this.config.display_class_average&&e.class?dn(X||(X=Xe(['<span class="average-class-average"\n                >Classe ',"</span\n              >"])),e.class):"",this.config.display_class_min&&e.min?dn(J||(J=Xe(['<span class="average-class-min"\n                >Min. ',"</span\n              >"])),e.min):"",this.config.display_class_max&&e.max?dn(K||(K=Xe(['<span class="average-class-max"\n                >Max. ',"</span\n              >"])),e.max):"")}},{key:"getCardContent",value:function(){if(this.hass.states[this.config.entity]){var e=this.getItems(),t=[],n=[];this.config.display_overall_average&&n.push(this.getOverallAverageRow(e));for(var i=0;i<e.length;i++){var a=e[i];n.push(this.getAverageRow(a))}return n.length>0?t.push(dn(Q||(Q=Xe(["<table>\n            ","\n          </table>"])),n)):t.push(this.noDataMessage()),t}return[]}},{key:"getDefaultConfig",value:function(){return{average_format:"full",display_header:!0,display_class_average:!0,compare_with_class_average:!0,compare_with_ratio:null,display_class_min:!0,display_class_max:!0,display_overall_average:!0}}}],[{key:"styles",get:function(){return un(ee||(ee=Xe(["\n      ",'\n      table {\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      td {\n        vertical-align: top;\n        padding: 5px 10px 5px 10px;\n        padding-top: 8px;\n        text-align: left;\n      }\n      tr.overall-average {\n        border-bottom: 1px solid #393c3d;\n      }\n      tr.overall-average td {\n        text-transform: uppercase;\n        padding-bottom: 10px;\n      }\n      tr.overall-average .average-value span {\n        padding: 5px;\n        border-radius: 5px;\n        border: 1px solid var(--primary-text-color);\n      }\n      tr.overall-average tr td {\n        padding-top: 10px;\n      }\n      td.average-comparison-color,\n      td.average-color {\n        width: 4px;\n        padding-top: 11px;\n      }\n      td.average-comparison-color > span,\n      td.average-color > span {\n        display: inline-block;\n        width: 4px;\n        height: 1rem;\n        border-radius: 4px;\n        background-color: grey;\n      }\n\n      .above-average .average-detail,\n      .above-ratio .average-detail,\n      .below-average .average-detail,\n      .below-ratio .average-detail {\n        position: relative;\n      }\n      .above-average span.average-value,\n      .above-ratio span.average-value,\n      .below-average span.average-value,\n      .below-ratio span.average-value {\n        padding-right: 16px;\n      }\n      .above-average span.average-value:before,\n      .above-ratio span.average-value:before,\n      .below-average span.average-value:before,\n      .below-ratio span.average-value:before {\n        content: " ";\n        display: block;\n        width: 10px;\n        height: 10px;\n        border-radius: 5px;\n        position: absolute;\n        right: 10px;\n        top: 13px;\n      }\n      .above-average span.average-value:before,\n      .above-ratio span.average-value:before {\n        background-color: green;\n      }\n      .below-average span.average-value:before,\n      .below-ratio span.average-value:before {\n        background-color: orange;\n      }\n      .average-description {\n        padding-left: 0;\n      }\n      .average-subject {\n        display: inline-block;\n        font-weight: bold;\n        position: relative;\n      }\n      .average-detail {\n        text-align: right;\n      }\n      .average-value {\n        font-weight: bold;\n      }\n      .average-value,\n      .average-class-average {\n        display: block;\n      }\n      .average-class-average,\n      .average-class-min,\n      .average-class-max {\n        font-size: 0.9em;\n        color: gray;\n      }\n      .average-class-min + .average-class-max:before {\n        content: " - ";\n      }\n    '])),ze(e,"styles",this))}},{key:"getStubConfig",value:function(){return{average_format:"full",display_header:!0,display_class_average:!0,compare_with_class_average:!0,compare_with_ratio:null,display_class_min:!0,display_class_max:!0}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-averages-card-editor")}}])}();customElements.define("ecole_directe-moyennes-card",hn),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-moyennes-card",name:"Carte des moyennes pour Ecole Directe",description:"Affiche les moyennes pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#moyennes"});var pn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),fn=pn.prototype.html,gn=pn.prototype.css,vn=function(){function e(){return Je(this,e),tt(this,e,arguments)}return at(e,ct),Qe(e,[{key:"initCard",value:function(){this.items_attribute_key="evaluations",this.header_title="Evaluations de ",this.no_data_message="Pas d'évaluation à afficher"}},{key:"getFormattedDate",value:function(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"short",day:"2-digit",month:"2-digit"}).replace(/^(.)/,function(e){return e.toUpperCase()})}},{key:"getAcquisitionRow",value:function(e){return fn(te||(te=Xe(['<tr class="acquisition-row">\n      <td>',"</td>\n      <td>","</td>\n    </tr>"])),e.name,this.getAcquisitionIcon(e))}},{key:"getAcquisitionIcon",value:function(e){var t=this.config.mapping_evaluations[e.abbreviation]||e.abbreviation,n="";return"A+"===t?n="+":"Abs"===t&&(n="a"),fn(ne||(ne=Xe(['\n      <span\n        title="','"\n        class="acquisition-icon acquisition-icon-','"\n      >\n        ',"\n      </span>\n    "])),t,t.replace("+","plus"),n)}},{key:"getEvaluationRow",value:function(e,t){for(var n=e.acquisitions,i=[],a=[],r=0;r<n.length;r++)i.push(this.getAcquisitionIcon(n[r])),a.push(this.getAcquisitionRow(n[r]));return fn(ie||(ie=Xe(['\n      <tr class="evaluation-row">\n        <td class="evaluation-color">\n          <span style="background-color:','"></span>\n        </td>\n        <td class="evaluation-description">\n          <label for="evaluation-full-detail-','">\n            <span class="evaluation-subject">',"</span>\n          </label>\n          ",'\n          <input type="checkbox" id="evaluation-full-detail-','" />\n          ',"\n          ","\n          ","\n          ",'\n        </td>\n        <td class="evaluation-detail">',"</td>\n      </tr>\n      ","\n    "])),"grey",t,e.subject,this.config.display_teacher?fn(ae||(ae=Xe(['<span class="evaluation-teacher"\n                >',"</span\n              >"])),e.teacher):"",t,this.config.display_comment?fn(re||(re=Xe(['<span class="evaluation-comment">',"</span>"])),e.name):"",this.config.display_description?fn(oe||(oe=Xe(['<span class="evaluation-description"\n                >',"</span\n              >"])),e.description):"",this.config.display_date?fn(se||(se=Xe(['<span class="evaluation-date"\n                >',"</span\n              >"])),this.getFormattedDate(e.date)):"",this.config.display_coefficient&&e.coefficient?fn(le||(le=Xe(['<span class="evaluation-coefficient"\n                >Coef. ',"</span\n              >"])),e.coefficient):"",i,a)}},{key:"getCardContent",value:function(){if(this.hass.states[this.config.entity]){for(var e,t=this.getItems(),n=null!==(e=this.config.max_evaluations)&&void 0!==e?e:t.length,i=[],a=[],r=0;r<n;r++){var o=t[r];i.push(this.getEvaluationRow(o,r))}return i.length>0?a.push(fn(ce||(ce=Xe(["<table>\n            ","\n          </table>"])),i)):a.push(this.noDataMessage()),a}return[]}},{key:"getDefaultConfig",value:function(){return{display_header:!0,display_description:!0,display_teacher:!0,display_date:!0,display_comment:!0,display_coefficient:!0,max_evaluations:null,mapping_evaluations:{}}}}],[{key:"styles",get:function(){return gn(de||(de=Xe(["\n      ",'\n      table {\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      td {\n        vertical-align: top;\n        padding: 5px 10px 5px 10px;\n        text-align: left;\n      }\n      td.evaluation-color {\n        width: 4px;\n        padding-top: 11px;\n      }\n      td.evaluation-color > span {\n        display: inline-block;\n        width: 4px;\n        height: 2rem;\n        border-radius: 4px;\n        background-color: grey;\n      }\n      .above-average .evaluation-color > span,\n      .above-ratio .evaluation-color > span {\n        background-color: green;\n      }\n      .below-average .evaluation-color > span,\n      .below-ratio .evaluation-color > span {\n        background-color: orange;\n      }\n      .evaluation-subject {\n        font-weight: bold;\n        display: block;\n      }\n      .evaluation-description {\n        display: block;\n      }\n      .evaluation-teacher {\n        display: block;\n      }\n      .evaluation-date,\n      .evaluation-coefficient {\n        font-size: 0.9em;\n        color: gray;\n      }\n      .evaluation-comment {\n        display: block;\n      }\n      .evaluation-date + .evaluation-coefficient:before {\n        content: " - ";\n      }\n      .evaluation-detail {\n        text-align: right;\n      }\n      .evaluation-value {\n        font-weight: bold;\n      }\n      .acquisition-icon {\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n        border-radius: 50%;\n        border: solid 0.02em rgba(0, 0, 0, 0.5);\n        margin-left: 4px;\n        vertical-align: middle;\n        color: white;\n        content: "+";\n        text-align: center;\n        line-height: 14px;\n      }\n      .acquisition-icon-Aplus {\n        background-color: #008000;\n      }\n      .acquisition-icon-A {\n        background-color: #45b851;\n      }\n      .acquisition-icon-B {\n        background-color:;\n      }\n      .acquisition-icon-C {\n        background-color: #ffda01;\n      }\n      .acquisition-icon-D {\n        background-color: #f80a0a;\n      }\n      .acquisition-icon-E {\n        background-color: #f80a0a;\n      }\n      .acquisition-row {\n        display: none;\n      }\n      input[type="checkbox"] {\n        display: none;\n      }\n      /** FIXME\n        .evaluation-row:has(input:checked) .acquisition-icon {\n            display:none;\n        }\n        .evaluation-row:has(input:checked) + .acquisition-row {\n            display: table-row;\n        }\n        */\n      .acquisition-row td:nth-child(2) {\n        text-align: right;\n      }\n    '])),ze(e,"styles",this))}},{key:"getStubConfig",value:function(){return{display_header:!0,display_description:!0,display_teacher:!0,display_date:!0,display_comment:!0,display_coefficient:!0,max_evaluations:null,mapping_evaluations:{}}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-evaluations-card-editor")}}])}();customElements.define("ecole_directe-evaluations-card",vn),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-evaluations-card",name:"Carte des évaluations pour Ecole Directe",description:"Affiche les évaluations pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#evaluations"});var yn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),_n=yn.prototype.html,mn=yn.prototype.css,bn=function(){function e(){return Je(this,e),tt(this,e,arguments)}return at(e,ct),Qe(e,[{key:"getAbsencesRetardsRow",value:function(e){var t=_n(ue||(ue=Xe(['\n      <tr>\n        <td class="absence-status">\n          <span\n            >','</span\n          >\n        </td>\n        <td>\n          <span\n            style="background-color:','"\n          ></span>\n        </td>\n        <td>\n          <span class="absence-from">','</span\n          ><br /><span class="absence-hours">','</span>\n        </td>\n        <td>\n          <span class="absence-reason">',"</span>\n        </td>\n      </tr>\n    "])),e.justified?_n(he||(he=Xe(['<ha-icon icon="mdi:check"></ha-icon>']))):_n(pe||(pe=Xe(['<ha-icon icon="mdi:clock-alert-outline"></ha-icon>']))),e.justified?"#107c41":"#e73a1f",e.display_date,e.libelle,e.motif);return _n(fe||(fe=Xe(["",""])),t)}},{key:"initCard",value:function(){this.hass.states[this.config.entity].attributes.Absences?(this.items_attribute_key="absences",this.header_title="Absences de ",this.no_data_message="Aucune absence"):(this.items_attribute_key="Retards",this.header_title="Retards de ",this.no_data_message="Aucun retard")}},{key:"getCardContent",value:function(){if(this.hass.states[this.config.entity]){for(var e=this.getItems(),t=[],n=[],i=0;i<e.length&&!(this.config.max&&this.config.max<i);i++){var a=e[i];n.push(this.getAbsencesRetardsRow(a))}return e.length>0?t.push(_n(ge||(ge=Xe(["<table>\n            ","\n          </table>"])),n)):t.push(this.noDataMessage()),t}}},{key:"getDefaultConfig",value:function(){return{display_header:!0,max:null}}}],[{key:"styles",get:function(){return mn(ve||(ve=Xe(["\n      ","\n      table {\n        clear: both;\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      tr:nth-child(odd) {\n        background-color: rgba(0, 0, 0, 0.1);\n      }\n      td {\n        vertical-align: middle;\n        padding: 5px 10px 5px 10px;\n        text-align: left;\n      }\n      tr td:first-child {\n        width: 10%;\n        text-align: right;\n      }\n      span.absence-reason {\n        font-weight: bold;\n        display: block;\n      }\n      tr td:nth-child(2) {\n        width: 4px;\n        padding: 5px 0;\n      }\n      tr td:nth-child(2) > span {\n        display: inline-block;\n        width: 4px;\n        height: 3rem;\n        border-radius: 4px;\n        background-color: grey;\n        margin-top: 4px;\n      }\n      span.absence-from {\n        font-weight: bold;\n        padding: 4px;\n        border-radius: 4px;\n      }\n      span.absence-hours {\n        font-size: 0.9em;\n        padding: 4px;\n      }\n      table + div {\n        border-top: 1px solid white;\n      }\n    "])),ze(e,"styles",this))}},{key:"getStubConfig",value:function(){return{display_header:!0,max:null}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-absences-retards-card-editor")}}])}();customElements.define("ecole_directe-absences-retards-card",bn),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-absences-retards-card",name:"Carte Absences/Retards pour Ecole Directe",description:"Affiche les absences ou les retards pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#absences"});var wn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),kn=wn.prototype.html,xn=wn.prototype.css,An=function(){function e(){return Je(this,e),tt(this,e,arguments)}return at(e,wn),Qe(e,[{key:"setConfig",value:function(e){this._config=e,this.loadEntityPicker()}},{key:"_valueChanged",value:function(e){var t=Object.assign({},this._config);void 0!==e.target.checked?t[e.target.configValue]=e.target.checked:t[e.target.configValue]=""==e.target.value?null:e.target.value,this._config=t;var n=new CustomEvent("config-changed",{detail:{config:t},bubbles:!0,composed:!0});this.dispatchEvent(n)}},{key:"buildSelectField",value:function(e,t,n,i,a){for(var r=[],o=0;o<n.length;o++){var s=n[o];r.push(kn(ye||(ye=Xe(['<ha-list-item .value="','"\n          >',"</ha-list-item\n        >"])),s.value,s.label))}return kn(_e||(_e=Xe(['\n      <ha-select\n        label="','"\n        .value=',"\n        .configValue=","\n        @change=","\n        @closed=","\n      >\n        ","\n      </ha-select>\n    "])),e,i||a,t,this._valueChanged,function(e){return e.stopPropagation()},r)}},{key:"buildSwitchField",value:function(e,t,n,i){return"boolean"!=typeof n&&(n=i),kn(me||(me=Xe(['\n      <ha-formfield class="switch-wrapper" .label="','">\n        <ha-switch\n          name="','"\n          .checked=','\n          .configValue="','"\n          @change=',"\n        ></ha-switch>\n      </ha-formfield>\n    "])),e,t,n,t,this._valueChanged)}},{key:"buildNumberField",value:function(e,t,n,i,a){return kn(be||(be=Xe(['\n      <ha-textfield\n        type="number"\n        step="','"\n        label="','"\n        .value=',"\n        .configValue=","\n        @change=","\n      >\n      </ha-textfield>\n    "])),a||1,e,n||i,t,this._valueChanged)}},{key:"buildTextField",value:function(e,t,n,i){return kn(we||(we=Xe(['\n      <ha-textfield\n        label="','"\n        .value=',"\n        .configValue=","\n        @change=","\n        @keyup=","\n      >\n      </ha-textfield>\n    "])),e,n||i,t,this._valueChanged,this._valueChanged)}},{key:"buildEntityPickerField",value:function(e,t,n,i){var a=new RegExp("ed_[a-z]+_[a-z]+_"+i);return kn(ke||(ke=Xe(['\n      <ha-entity-picker\n        label="','"\n        .hass=',"\n        .value=","\n        .configValue=",'\n        .includeDomains="sensor"\n        .entityFilter="','"\n        @value-changed=',"\n        allow-custom-entity\n      ></ha-entity-picker>\n    "])),e,this.hass,n||"",t,function(e){return a.test(e.entity_id)},this._valueChanged)}},{key:"loadEntityPicker",value:(t=function(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function o(e){Ne(r,i,a,o,s,"next",e)}function s(e){Ne(r,i,a,o,s,"throw",e)}o(void 0)})}}(Te().m(function e(){var t,n;return Te().w(function(e){for(;;)switch(e.n){case 0:if(!window.customElements.get("ha-entity-picker")){e.n=1;break}return e.a(2);case 1:return e.n=2,window.loadCardHelpers();case 2:return t=e.v,e.n=3,t.createCardElement({type:"entities",entities:[]});case 3:return n=e.v,e.n=4,n.constructor.getConfigElement();case 4:return e.a(2)}},e)})),function(){return t.apply(this,arguments)})}],[{key:"properties",get:function(){return{hass:{},_config:{}}}},{key:"styles",get:function(){return xn(xe||(xe=Xe(["\n      ha-formfield {\n        display: block;\n        padding-top: 20px;\n        clear: right;\n      }\n      ha-formfield > ha-switch {\n        float: right;\n      }\n      ha-select,\n      ha-textfield {\n        clear: right;\n        width: 100%;\n        padding-top: 15px;\n      }\n    "])))}}]);var t}(),Dn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,En=function(){function e(){return Je(this,e),tt(this,e,arguments)}return at(e,An),Qe(e,[{key:"render",value:function(){return this.hass&&this._config?Dn(De||(De=Xe(["\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Timetable entity","entity",this._config.entity,"timetable_([1-3]|today|tomorrow|next_day)"),this.buildSwitchField("Display header","display_header",this._config.display_header,!0),this.buildSwitchField("Display classroom","display_classroom",this._config.display_classroom,!0),this.buildSwitchField("Display teacher","display_teacher",this._config.display_teacher,!0),this.buildSwitchField("Display day hours","display_day_hours",this._config.display_day_hours,!0),this.buildSwitchField("Display lunch break","display_lunch_break",this._config.display_lunch_break,!0),this.buildSwitchField("Dim ended lessons","dim_ended_lessons",this._config.dim_ended_lessons,!0),this.buildSwitchField("Enable slider","enable_slider",this._config.enable_slider,!1),this.buildSwitchField("Auto switch to next day (if slider enabled)","switch_to_next_day",this._config.switch_to_next_day,!1),this.buildSwitchField("Display free time slots","display_free_time_slots",this._config.display_free_time_slots,!0)):Dn(Ae||(Ae=Xe([""])))}}])}();customElements.define("ecole_directe-timetable-card-editor",En);var $n=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,Sn=function(){function e(){return Je(this,e),tt(this,e,arguments)}return at(e,An),Qe(e,[{key:"render",value:function(){return this.hass&&this._config?$n($e||($e=Xe(["\n      ","\n      ","\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Devoir entity","entity",this._config.entity,"devoirs_([1-3]|today|tomorrow|next_day)"),this.buildSwitchField("Display header","display_header",this._config.display_header),this.buildSwitchField("Reduce done devoir","reduce_done_devoir",this._config.reduce_done_devoir),this.buildSwitchField("Display done devoir","display_done_devoir",this._config.display_done_devoir),this.buildSwitchField("Enable slider","enable_slider",this._config.enable_slider,!1)):$n(Ee||(Ee=Xe([""])))}}])}();customElements.define("ecole_directe-devoir-card-editor",Sn);var Cn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,Fn=function(){function e(){return Je(this,e),tt(this,e,arguments)}return at(e,An),Qe(e,[{key:"render",value:function(){return this.hass&&this._config?Cn(Ce||(Ce=Xe(["\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Notes entity","entity",this._config.entity,"notes"),this.buildSwitchField("Display header","display_header",this._config.display_header),this.buildSwitchField("Display date","display_date",this._config.display_date),this.buildSwitchField("Display comment","display_comment",this._config.display_comment),this.buildSwitchField("Display class average","display_class_average",this._config.display_class_average),this.buildSwitchField("Compare with class average","compare_with_class_average",this._config.compare_with_class_average),this.buildSelectField("Grade format","grade_format",[{value:"full",label:"Full"},{value:"short",label:"Short"}],this._config.grade_format),this.buildSwitchField("Display coefficient","display_coefficient",this._config.display_coefficient),this.buildSwitchField("Display class min","display_class_min",this._config.display_class_min),this.buildSwitchField("Display class max","display_class_max",this._config.display_class_max),this.buildSwitchField("Display new grade notice","display_new_grade_notice",this._config.display_new_grade_notice),this.buildNumberField("Max notes","max_notes",this._config.max_notes)):Cn(Se||(Se=Xe([""])))}}])}();customElements.define("ecole_directe-notes-card-editor",Fn);var On=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,jn=function(){function e(){return Je(this,e),tt(this,e,arguments)}return at(e,An),Qe(e,[{key:"render",value:function(){return this.hass&&this._config?On(Oe||(Oe=Xe(["\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Evaluations entity","entity",this._config.entity,"evaluations"),this.buildSwitchField("Display header","display_header",this._config.display_header),this.buildSwitchField("Display description","display_description",this._config.display_description),this.buildSwitchField("Display teacher","display_teacher",this._config.display_teacher),this.buildSwitchField("Display date","display_date",this._config.display_date),this.buildSwitchField("Display comment","display_comment",this._config.display_comment),this.buildSwitchField("Display coefficient","display_coefficient",this._config.display_coefficient),this.buildNumberField("Max evaluations","max_evaluations",this._config.max_evaluations)):On(Fe||(Fe=Xe([""])))}}])}();customElements.define("ecole_directe-evaluations-card-editor",jn);var Rn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,Pn=function(){function e(){return Je(this,e),tt(this,e,arguments)}return at(e,An),Qe(e,[{key:"render",value:function(){return this.hass&&this._config?Rn(Re||(Re=Xe(["\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Averages entity","entity",this._config.entity,"averages"),this.buildSwitchField("Display header","display_header",this._config.display_header),this.buildSelectField("Average format","average_format",[{value:"full",label:"Full"},{value:"short",label:"Short"}],this._config.average_format),this.buildSwitchField("Display class average","display_class_average",this._config.display_class_average),this.buildSwitchField("Compare with class average","compare_with_class_average",this._config.compare_with_class_average),this.buildTextField("Compare with ratio","compare_with_ratio",this._config.compare_with_ratio,""),this.buildSwitchField("Display class min","display_class_min",this._config.display_class_min),this.buildSwitchField("Display class max","display_class_max",this._config.display_class_max),this.buildSwitchField("Display overall average","display_overall_average",this._config.display_overall_average,!0)):Rn(je||(je=Xe([""])))}}])}();customElements.define("ecole_directe-averages-card-editor",Pn);var Hn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,Tn=function(){function e(){return Je(this,e),tt(this,e,arguments)}return at(e,An),Qe(e,[{key:"render",value:function(){return this.hass&&this._config?Hn(He||(He=Xe(["\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Absences/Retards entity","entity",this._config.entity,"(absences|retards)"),this.buildSwitchField("Display header","display_header",this._config.display_header),this.buildNumberField("Max","max",this._config.max)):Hn(Pe||(Pe=Xe([""])))}}])}();customElements.define("ecole_directe-absences-retards-card-editor",Tn);
