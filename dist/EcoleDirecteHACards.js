var e,t,n,i,a,r,o,s,l,c,d,u,h,p,f,g,v,y,_,m,b,w,k,x,A,D,E,$,S,C,F,O,j,R,P,H,T,M,N,L,I,q,z,U,B,V,G,W,Y,Z,X,J,K,Q,ee,te,ne,ie,ae,re,oe,se,le,ce,de,ue,he,pe,fe,ge,ve,ye,_e,me,be,we,ke,xe,Ae,De,Ee,$e,Se,Ce,Fe,Oe,je,Re;function Pe(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function r(n,i,a,r){var l=i&&i.prototype instanceof s?i:s,c=Object.create(l.prototype);return He(c,"_invoke",function(n,i,a){var r,s,l,c=0,d=a||[],u=!1,h={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return r=t,s=0,l=e,h.n=n,o}};function p(n,i){for(s=n,l=i,t=0;!u&&c&&!a&&t<d.length;t++){var a,r=d[t],p=h.p,f=r[2];n>3?(a=f===i)&&(l=r[(s=r[4])?5:(s=3,3)],r[4]=r[5]=e):r[0]<=p&&((a=n<2&&p<r[1])?(s=0,h.v=i,h.n=r[1]):p<f&&(a=n<3||r[0]>i||i>f)&&(r[4]=n,r[5]=i,h.n=f,s=0))}if(a||n>1)return o;throw u=!0,i}return function(a,d,f){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&p(d,f),s=d,l=f;(t=s<2?e:l)||!u;){r||(s?s<3?(s>1&&(h.n=-1),p(s,l)):h.n=l:h.v=l);try{if(c=2,r){if(s||(a="next"),t=r[a]){if(!(t=t.call(r,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=r.return)&&t.call(r),s<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),s=1);r=e}else if((t=(u=h.n<0)?l:n.call(i,h))!==o)break}catch(t){r=e,s=1,l=t}finally{c=1}}return{value:t,done:u}}}(n,a,r),!0),c}var o={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var d=[][i]?t(t([][i]())):(He(t={},i,function(){return this}),t),u=c.prototype=s.prototype=Object.create(d);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,He(e,a,"GeneratorFunction")),e.prototype=Object.create(u),e}return l.prototype=c,He(u,"constructor",c),He(c,"constructor",l),l.displayName="GeneratorFunction",He(c,a,"GeneratorFunction"),He(u),He(u,a,"Generator"),He(u,i,function(){return this}),He(u,"toString",function(){return"[object Generator]"}),(Pe=function(){return{w:r,m:h}})()}function He(e,t,n,i){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}He=function(e,t,n,i){function r(t,n){He(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(r("next",0),r("throw",1),r("return",2))},He(e,t,n,i)}function Te(e,t,n,i,a,r,o){try{var s=e[r](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,a)}function Me(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ue(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,r,o,s=[],l=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=r.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||Ue(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Ie(e,t,n,i){var a=qe(tt(1&i?e.prototype:e),t,n);return 2&i&&"function"==typeof a?function(e){return a.apply(n,e)}:a}function qe(){return qe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=tt(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},qe.apply(null,arguments)}function ze(e){return function(e){if(Array.isArray(e))return Be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){if(e){if("string"==typeof e)return Be(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(e,t):void 0}}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach(function(t){We(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function We(e,t,n){return(t=Ke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ke(i.key),i)}}function Je(e,t,n){return t&&Xe(e.prototype,t),n&&Xe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ke(e){var t=function(e,t){if("object"!=Le(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Le(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Le(t)?t:t+""}function Qe(e,t,n){return t=tt(t),function(e,t){if(t&&("object"==Le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,et()?Reflect.construct(t,n||[],tt(e).constructor):t.apply(e,n))}function et(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(et=function(){return!!e})()}function tt(e){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tt(e)}function nt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&it(e,t)}function it(e,t){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},it(e,t)}var at=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),rt=at.prototype.html,ot=at.prototype.css,st=function(){function o(){return Ze(this,o),Qe(this,o,arguments)}return nt(o,at),Je(o,[{key:"getCardHeader",value:function(){var t=this.hass.states[this.config.entity].attributes,n="string"==typeof t.prenom&&t.prenom.length>0?t.prenom:t.nom_complet;return rt(e||(e=Ye(['<div class="ed-card-header">\n      '," ","\n    </div>"])),this.header_title,n)}},{key:"noDataMessage",value:function(){return rt(t||(t=Ye(['<div class="ed-card-no-data">',"</div>"])),this.no_data_message)}},{key:"render",value:function(){return this.config&&this.hass?(this.initCard(),this.hass.states[this.config.entity]?rt(i||(i=Ye([' <ha-card id="','-card">\n        ',"\n        ","\n      </ha-card>"])),this.config.entity,this.config.display_header?this.getCardHeader():"",this.getCardContent()):rt(a||(a=Ye(['<div class="ed-card-no-data">\n      Veuillez choisir une autre entité\n    </div>'])))):rt(n||(n=Ye([""])))}},{key:"setConfig",value:function(e){if(!e.entity)throw new Error("Vous devez définir une entité");this.config=Ge(Ge({},this.getDefaultConfig()),e)}},{key:"getItems",value:function(){var e=[],t=this.hass.states[this.config.entity];return e.push.apply(e,ze(t.attributes[this.items_attribute_key])),e}}],[{key:"properties",get:function(){return{config:{},hass:{},header_title:{type:String},no_data_message:{type:String}}}},{key:"styles",get:function(){return ot(r||(r=Ye(["\n      .ed-card-header {\n        text-align: center;\n      }\n      div {\n        padding: 12px;\n        font-weight: bold;\n        font-size: 1em;\n      }\n      .ed-card-no-data {\n        display: block;\n        padding: 8px;\n        text-align: center;\n        font-style: italic;\n      }\n    "])))}}])}(),lt=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),ct=lt.prototype.html,dt=lt.prototype.css;function ut(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}Date.prototype.getWeekNumber=function(){var e=new Date(+this);return e.setHours(0,0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7)),Math.ceil(((e-new Date(e.getFullYear(),0,1))/864e5+1)/7)};var ht=function(){function e(){var t;Ze(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return We(t=Qe(this,e,[].concat(i)),"lunchBreakRendered",!1),t}return nt(e,st),Je(e,[{key:"initCard",value:function(){}},{key:"getBreakRow",value:function(e,t){return ct(o||(o=Ye([' <tr class="lunch-break ','">\n      <td></td>\n      <td><span></span></td>\n      <td colspan="2">\n        <span class="lesson-name">',"</span>\n      </td>\n    </tr>"])),t?"lesson-ended":"",e)}},{key:"getTimetableRow",value:function(e){var t=new Date,n=Date.parse(e.start_at),i=Date.parse(e.end_at),a=ct(s||(s=Ye([""])));this.config.display_lunch_break&&e.is_afternoon&&!this.lunchBreakRendered&&(a=this.getBreakRow("Repas",this.config.dim_ended_lessons&&n<t),this.lunchBreakRendered=!0);var r=ct(l||(l=Ye(['\n      <tr\n        class="'," ",'"\n      >\n        <td>\n          ',"<br />\n          ",'\n        </td>\n        <td>\n          <span style="background-color:','"></span>\n        </td>\n        <td>\n          <span class="lesson-name">',"</span>\n          ","\n          ","\n        </td>\n        <td>\n          ","\n        </td>\n      </tr>\n    "])),e.is_annule?"lesson-canceled":"",this.config.dim_ended_lessons&&i<t?"lesson-ended":"",e.start_time,e.end_time,e.background_color,e.lesson,this.config.display_classroom?ct(c||(c=Ye(['<span class="lesson-classroom">\n                ',"\n                ","\n              </span>"])),e.salle?"Salle "+e.salle:"",e.salle&&this.config.display_teacher?", ":""):"",this.config.display_teacher?ct(d||(d=Ye(['<span class="lesson-teacher"> '," </span>"])),e.prof):"",e.dispense?ct(u||(u=Ye(['<span class="lesson-status">',"</span>"])),e.dispense):"");return ct(h||(h=Ye(["","",""])),a,r)}},{key:"getFormattedDate",value:function(e){return new Date(e.start_at).toLocaleDateString("fr-FR",{weekday:"long",day:"2-digit",month:"2-digit"}).replace(/^(.)/,function(e){return e.toUpperCase()})}},{key:"getFormattedTime",value:function(e){return new Intl.DateTimeFormat("fr-FR",{hour:"numeric",minute:"numeric"}).format(new Date(e))}},{key:"getDayHeader",value:function(e,t,n,i){var a=this;return ct(p||(p=Ye(['<div class="ed-timetable-header">\n      ','\n      <span class="ed-timetable-header-date"\n        >',"</span\n      >\n      ","\n      ","\n    </div>"])),this.config.enable_slider?ct(f||(f=Ye(['<span\n            class="ed-timetable-header-arrow-left ','"\n            @click=',"\n            >←</span\n          >"])),0===i?"disabled":"",function(e){return a.changeDay("previous",e)}):"",this.getFormattedDate(e),this.config.display_day_hours&&t&&n?ct(g||(g=Ye(['<span class="ed-timetable-header-hours">\n            '," -\n            ","\n          </span>"])),this.getFormattedTime(t),this.getFormattedTime(n)):"",this.config.enable_slider?ct(v||(v=Ye(['<span\n            class="ed-timetable-header-arrow-right"\n            @click=',"\n            >→</span\n          >"])),function(e){return a.changeDay("next",e)}):"")}},{key:"changeDay",value:function(e,t){if(t.preventDefault(),!t.target.classList.contains("disabled")){var n=t.target.parentElement.parentElement,i=n.previousElementSibling&&n.previousElementSibling.classList.contains("ed-timetable-day-wrapper"),a=n.nextElementSibling&&n.nextElementSibling.classList.contains("ed-timetable-day-wrapper"),r=null;"previous"===e&&i?r=n.previousElementSibling:"next"===e&&a&&(r=n.nextElementSibling),r&&(n.classList.remove("active"),r.classList.add("active"),i=r.previousElementSibling&&r.previousElementSibling.classList.contains("ed-timetable-day-wrapper"),a=r.nextElementSibling&&r.nextElementSibling.classList.contains("ed-timetable-day-wrapper"),i||r.querySelector(".ed-timetable-header-arrow-left").classList.add("disabled"),a||r.querySelector(".ed-timetable-header-arrow-right").classList.add("disabled"))}}},{key:"render",value:function(){if(!this.config||!this.hass)return ct(y||(y=Ye([""])));var e=this.hass.states[this.config.entity],t=this.hass.states[this.config.entity].attributes["Emploi du temps"];if(e){this.lunchBreakRendered=!1;for(var n=[],i=[],a=0,r=null,o=null,s=new Date,l=0,c=0;c<t.length;c++){var d=t[c],u=this.getFormattedDate(d),h=new Date(d.end_at);if(d.isAnnule||(null===r&&(r=d.start_at),o=d.end_at),d.isAnnule&&c<t.length-1){var p=t[c+1];if(d.start_at===p.start_at&&!p.isAnnule)continue}if(i.push(this.getTimetableRow(d)),c+1>=t.length||c+1<t.length&&u!==this.getFormattedDate(t[c+1]))this.config.enable_slider&&this.config.switch_to_next_day&&ut(h,s)&&h<s&&(l=a+1),n.push(ct(_||(_=Ye(['\n            <div\n              class="'," ed-timetable-day-wrapper ",'"\n            >\n              ',"\n              <table>\n                ","\n              </table>\n            </div>\n          "])),this.config.enable_slider?"slider-enabled":"",a===l?"active":"",this.getDayHeader(d,r,o,a),i)),i=[],this.lunchBreakRendered=!1,r=null,o=null,a++;else if(this.config.display_free_time_slots&&c+1<t.length){var f=new Date(d.end_at),g=t[c+1],v=new Date(g.start_at);if(d.is_morning===g.is_morning&&Math.floor((v-f)/1e3/60)>30){var w=new Date;i.push(this.getBreakRow("Pas de cours",this.config.dim_ended_lessons&&v<w))}}}return i.length>0&&n.push(ct(m||(m=Ye(["<table>\n            ","\n          </table>"])),i)),ct(b||(b=Ye([' <ha-card\n        id="','-card"\n        class="','"\n      >\n        ',"\n        ","\n      </ha-card>"])),this.config.entity,this.config.enable_slider?"ed-timetable-card-slider":"",this.config.display_header?this.getCardHeader():"",n)}}},{key:"setConfig",value:function(e){if(!e.entity)throw new Error("Vous devez définir une entité");this.config=Ge(Ge({},{entity:null,display_header:!0,display_classroom:!0,display_teacher:!0,display_day_hours:!0,display_lunch_break:!0,dim_ended_lessons:!0,enable_slider:!1,switch_to_next_day:!1,display_free_time_slots:!0}),e),this.header_title="Emploi du temps de ",this.no_data_message="Pas d'emploi du temps à afficher"}}],[{key:"styles",get:function(){return dt(w||(w=Ye(["\n      ","\n      .ed-timetable-card-slider .ed-timetable-day-wrapper {\n        display: none;\n      }\n      .ed-timetable-card-slider .ed-timetable-day-wrapper.active {\n        display: block;\n      }\n      .ed-timetable-card-slider .ed-timetable-header-date {\n        display: inline-block;\n        text-align: center;\n        width: 120px;\n      }\n      .ed-timetable-header-arrow-left,\n      .ed-timetable-header-arrow-right {\n        cursor: pointer;\n      }\n      .ed-timetable-header-arrow-left.disabled,\n      .ed-timetable-header-arrow-right.disabled {\n        opacity: 0.3;\n        pointer-events: none;\n      }\n      span.ed-timetable-header-hours {\n        float: right;\n      }\n      table {\n        clear: both;\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      tr:nth-child(odd) {\n        background-color: rgba(0, 0, 0, 0.1);\n      }\n      td {\n        vertical-align: middle;\n        padding: 5px 10px 5px 10px;\n        text-align: left;\n      }\n      tr td:first-child {\n        width: 13%;\n        text-align: right;\n      }\n      span.lesson-name {\n        font-weight: bold;\n        display: block;\n      }\n      tr td:nth-child(2) {\n        width: 4px;\n        padding: 5px 0;\n      }\n      tr td:nth-child(2) > span {\n        display: inline-block;\n        width: 4px;\n        height: 3rem;\n        border-radius: 4px;\n        background-color: grey;\n        margin-top: 4px;\n      }\n      span.lesson-status {\n        color: white;\n        background-color: rgb(75, 197, 253);\n        padding: 4px;\n        border-radius: 4px;\n      }\n      .lesson-canceled span.lesson-name {\n        text-decoration: line-through;\n      }\n      .lesson-canceled span.lesson-status {\n        background-color: rgb(250, 50, 75);\n      }\n      .lesson-ended {\n        opacity: 0.3;\n      }\n      div:not(.slider-enabled).ed-timetable-day-wrapper\n        + div:not(.slider-enabled).ed-timetable-day-wrapper {\n        border-top: 1px solid white;\n      }\n    "])),Ie(e,"styles",this))}},{key:"getStubConfig",value:function(){return{display_header:!0,display_lunch_break:!0,display_classroom:!0,display_teacher:!0,display_day_hours:!0,dim_ended_lessons:!0,enable_slider:!1,display_free_time_slots:!0,switch_to_next_day:!1}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-emploi_temps-card-editor")}}])}();customElements.define("ecole_directe-emploi_temps-card",ht),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-emploi_temps-card",name:"Carte de l'emploi du temps pour Ecole Directe",description:"Affiche l'emploi du temps pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#emploi_temps"});
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var pt=globalThis,ft=pt.trustedTypes,gt=ft?ft.createPolicy("lit-html",{createHTML:function(e){return e}}):void 0,vt="$lit$",yt="lit$".concat(Math.random().toFixed(9).slice(2),"$"),_t="?"+yt,mt="<".concat(_t,">"),bt=document,wt=function(){return bt.createComment("")},kt=function(e){return null===e||"object"!=Le(e)&&"function"!=typeof e},xt=Array.isArray,At="[ \t\n\f\r]",Dt=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Et=/-->/g,$t=/>/g,St=RegExp(">|".concat(At,"(?:([^\\s\"'>=/]+)(").concat(At,"*=").concat(At,"*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),Ct=/'/g,Ft=/"/g,Ot=/^(?:script|style|textarea|title)$/i,jt=Symbol.for("lit-noChange"),Rt=Symbol.for("lit-nothing"),Pt=new WeakMap,Ht=bt.createTreeWalker(bt,129);function Tt(e,t){if(!xt(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==gt?gt.createHTML(t):t}var Mt=function(e,t){for(var n,i=e.length-1,a=[],r=2===t?"<svg>":3===t?"<math>":"",o=Dt,s=0;s<i;s++){for(var l=e[s],c=void 0,d=void 0,u=-1,h=0;h<l.length&&(o.lastIndex=h,null!==(d=o.exec(l)));)h=o.lastIndex,o===Dt?"!--"===d[1]?o=Et:void 0!==d[1]?o=$t:void 0!==d[2]?(Ot.test(d[2])&&(n=RegExp("</"+d[2],"g")),o=St):void 0!==d[3]&&(o=St):o===St?">"===d[0]?(o=null!=n?n:Dt,u=-1):void 0===d[1]?u=-2:(u=o.lastIndex-d[2].length,c=d[1],o=void 0===d[3]?St:'"'===d[3]?Ft:Ct):o===Ft||o===Ct?o=St:o===Et||o===$t?o=Dt:(o=St,n=void 0);var p=o===St&&e[s+1].startsWith("/>")?" ":"";r+=o===Dt?l+mt:u>=0?(a.push(c),l.slice(0,u)+vt+l.slice(u)+yt+p):l+yt+(-2===u?s:p)}return[Tt(e,r+(e[i]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),a]},Nt=function(){return Je(function e(t,n){var i,a=t.strings,r=t._$litType$;Ze(this,e),this.parts=[];var o=0,s=0,l=a.length-1,c=this.parts,d=Ne(Mt(a,r),2),u=d[0],h=d[1];if(this.el=e.createElement(u,n),Ht.currentNode=this.el.content,2===r||3===r){var p=this.el.content.firstChild;p.replaceWith.apply(p,ze(p.childNodes))}for(;null!==(i=Ht.nextNode())&&c.length<l;){if(1===i.nodeType){if(i.hasAttributes()){var f,g=Me(i.getAttributeNames());try{for(g.s();!(f=g.n()).done;){var v=f.value;if(v.endsWith(vt)){var y=h[s++],_=i.getAttribute(v).split(yt),m=/([.?@])?(.*)/.exec(y);c.push({type:1,index:o,name:m[2],strings:_,ctor:"."===m[1]?Ut:"?"===m[1]?Bt:"@"===m[1]?Vt:zt}),i.removeAttribute(v)}else v.startsWith(yt)&&(c.push({type:6,index:o}),i.removeAttribute(v))}}catch(e){g.e(e)}finally{g.f()}}if(Ot.test(i.tagName)){var b=i.textContent.split(yt),w=b.length-1;if(w>0){i.textContent=ft?ft.emptyScript:"";for(var k=0;k<w;k++)i.append(b[k],wt()),Ht.nextNode(),c.push({type:2,index:++o});i.append(b[w],wt())}}}else if(8===i.nodeType)if(i.data===_t)c.push({type:2,index:o});else for(var x=-1;-1!==(x=i.data.indexOf(yt,x+1));)c.push({type:7,index:o}),x+=yt.length-1;o++}},null,[{key:"createElement",value:function(e,t){var n=bt.createElement("template");return n.innerHTML=e,n}}])}();function Lt(e,t){var n,i,a,r,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,l=arguments.length>3?arguments[3]:void 0;if(t===jt)return t;var c=void 0!==l?null===(n=s._$Co)||void 0===n?void 0:n[l]:s._$Cl,d=kt(t)?void 0:t._$litDirective$;return(null===(i=c)||void 0===i?void 0:i.constructor)!==d&&(null!==(a=c)&&void 0!==a&&null!==(r=a._$AO)&&void 0!==r&&r.call(a,!1),void 0===d?c=void 0:(c=new d(e))._$AT(e,s,l),void 0!==l?(null!==(o=s._$Co)&&void 0!==o?o:s._$Co=[])[l]=c:s._$Cl=c),void 0!==c&&(t=Lt(e,c._$AS(e,t.values),c,l)),t}var It=function(){return Je(function e(t,n){Ze(this,e),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n},[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var t,n=this._$AD,i=n.el.content,a=n.parts,r=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:bt).importNode(i,!0);Ht.currentNode=r;for(var o=Ht.nextNode(),s=0,l=0,c=a[0];void 0!==c;){var d;if(s===c.index){var u=void 0;2===c.type?u=new qt(o,o.nextSibling,this,e):1===c.type?u=new c.ctor(o,c.name,c.strings,this,e):6===c.type&&(u=new Gt(o,this,e)),this._$AV.push(u),c=a[++l]}s!==(null===(d=c)||void 0===d?void 0:d.index)&&(o=Ht.nextNode(),s++)}return Ht.currentNode=bt,r}},{key:"p",value:function(e){var t,n=0,i=Me(this._$AV);try{for(i.s();!(t=i.n()).done;){var a=t.value;void 0!==a&&(void 0!==a.strings?(a._$AI(e,a,n),n+=a.strings.length-2):a._$AI(e[n])),n++}}catch(e){i.e(e)}finally{i.f()}}}])}(),qt=function(){function e(t,n,i,a){var r;Ze(this,e),this.type=2,this._$AH=Rt,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=i,this.options=a,this._$Cv=null===(r=null==a?void 0:a.isConnected)||void 0===r||r}return Je(e,[{key:"_$AU",get:function(){var e,t;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cv}},{key:"parentNode",get:function(){var e,t=this._$AA.parentNode,n=this._$AM;return void 0!==n&&11===(null===(e=t)||void 0===e?void 0:e.nodeType)&&(t=n.parentNode),t}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){e=Lt(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this),kt(e)?e===Rt||null==e||""===e?(this._$AH!==Rt&&this._$AR(),this._$AH=Rt):e!==this._$AH&&e!==jt&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):function(e){return xt(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator])}(e)?this.k(e):this._(e)}},{key:"O",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"T",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}},{key:"_",value:function(e){this._$AH!==Rt&&kt(this._$AH)?this._$AA.nextSibling.data=e:this.T(bt.createTextNode(e)),this._$AH=e}},{key:"$",value:function(e){var t,n=e.values,i=e._$litType$,a="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=Nt.createElement(Tt(i.h,i.h[0]),this.options)),i);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===a)this._$AH.p(n);else{var r=new It(a,this),o=r.u(this.options);r.p(n),this.T(o),this._$AH=r}}},{key:"_$AC",value:function(e){var t=Pt.get(e.strings);return void 0===t&&Pt.set(e.strings,t=new Nt(e)),t}},{key:"k",value:function(t){xt(this._$AH)||(this._$AH=[],this._$AR());var n,i,a=this._$AH,r=0,o=Me(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;r===a.length?a.push(n=new e(this.O(wt()),this.O(wt()),this,this.options)):n=a[r],n._$AI(s),r++}}catch(e){o.e(e)}finally{o.f()}r<a.length&&(this._$AR(n&&n._$AB.nextSibling,r),a.length=r)}},{key:"_$AR",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,t=arguments.length>1?arguments[1]:void 0;for(null===(n=this._$AP)||void 0===n||n.call(this,!1,!0,t);e!==this._$AB;){var n,i=e.nextSibling;e.remove(),e=i}}},{key:"setConnected",value:function(e){var t;void 0===this._$AM&&(this._$Cv=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}])}(),zt=function(){return Je(function e(t,n,i,a,r){Ze(this,e),this.type=1,this._$AH=Rt,this._$AN=void 0,this.element=t,this.name=n,this._$AM=a,this.options=r,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Rt},[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=this.strings,r=!1;if(void 0===a)e=Lt(this,e,t,0),(r=!kt(e)||e!==this._$AH&&e!==jt)&&(this._$AH=e);else{var o,s,l=e;for(e=a[0],o=0;o<a.length-1;o++)(s=Lt(this,l[n+o],t,o))===jt&&(s=this._$AH[o]),r||(r=!kt(s)||s!==this._$AH[o]),s===Rt?e=Rt:e!==Rt&&(e+=(null!=s?s:"")+a[o+1]),this._$AH[o]=s}r&&!i&&this.j(e)}},{key:"j",value:function(e){e===Rt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}])}(),Ut=function(){function e(){var t;return Ze(this,e),(t=Qe(this,e,arguments)).type=3,t}return nt(e,zt),Je(e,[{key:"j",value:function(e){this.element[this.name]=e===Rt?void 0:e}}])}(),Bt=function(){function e(){var t;return Ze(this,e),(t=Qe(this,e,arguments)).type=4,t}return nt(e,zt),Je(e,[{key:"j",value:function(e){this.element.toggleAttribute(this.name,!!e&&e!==Rt)}}])}(),Vt=function(){function e(t,n,i,a,r){var o;return Ze(this,e),(o=Qe(this,e,[t,n,i,a,r])).type=5,o}return nt(e,zt),Je(e,[{key:"_$AI",value:function(e){var t;if((e=null!==(t=Lt(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,0))&&void 0!==t?t:Rt)!==jt){var n=this._$AH,i=e===Rt&&n!==Rt||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,a=e!==Rt&&(n===Rt||i);i&&this.element.removeEventListener(this.name,this,n),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}}},{key:"handleEvent",value:function(e){var t,n;"function"==typeof this._$AH?this._$AH.call(null!==(t=null===(n=this.options)||void 0===n?void 0:n.host)&&void 0!==t?t:this.element,e):this._$AH.handleEvent(e)}}])}(),Gt=function(){return Je(function e(t,n,i){Ze(this,e),this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){Lt(this,e)}}])}(),Wt=pt.litHtmlPolyfillSupport;null!=Wt&&Wt(Nt,qt),(null!==(k=pt.litHtmlVersions)&&void 0!==k?k:pt.litHtmlVersions=[]).push("3.3.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var Yt=2,Zt=function(){return Je(function e(t){Ze(this,e)},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}},{key:"_$AS",value:function(e,t){return this.update(e,t)}},{key:"update",value:function(e,t){return this.render.apply(this,ze(t))}}])}(),Xt=function(){function e(t){var n;if(Ze(this,e),(n=Qe(this,e,[t])).it=Rt,t.type!==Yt)throw Error(n.constructor.directiveName+"() can only be used in child bindings");return n}return nt(e,Zt),Je(e,[{key:"render",value:function(e){if(e===Rt||null==e)return this._t=void 0,this.it=e;if(e===jt)return e;if("string"!=typeof e)throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;var t=[e];return t.raw=t,this._t={_$litType$:this.constructor.resultType,strings:t,values:[]}}}])}();Xt.directiveName="unsafeHTML",Xt.resultType=1;var Jt=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return{_$litDirective$:e,values:n}}}(Xt),Kt=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),Qt=Kt.prototype.html,en=Kt.prototype.css;Date.prototype.getWeekNumber=function(){var e=new Date(+this);return e.setHours(0,0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7)),Math.ceil(((e-new Date(e.getFullYear(),0,1))/864e5+1)/7)};var tn=function(){function e(){var t;Ze(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return We(t=Qe(this,e,[].concat(i)),"lunchBreakRendered",!1),t}return nt(e,st),Je(e,[{key:"initCard",value:function(){}},{key:"getFormattedDate",value:function(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"long",day:"2-digit",month:"2-digit"}).replace(/^(.)/,function(e){return e.toUpperCase()})}},{key:"getDayHeader",value:function(e,t){var n=this;return Qt(x||(x=Ye(['<div class="ed-devoir-header">\n      ','\n      <span class="ed-devoir-header-date"\n        >',"</span\n      >\n      ","\n    </div>"])),this.config.enable_slider?Qt(A||(A=Ye(['<span\n            class="ed-devoir-header-arrow-left ','"\n            @click=',"\n            >←</span\n          >"])),0===t?"disabled":"",function(e){return n.changeDay("previous",e)}):"",this.getFormattedDate(e.date),this.config.enable_slider?Qt(D||(D=Ye(['<span\n            class="ed-devoir-header-arrow-right"\n            @click=',"\n            >→</span\n          >"])),function(e){return n.changeDay("next",e)}):"")}},{key:"changeDay",value:function(e,t){if(t.preventDefault(),!t.target.classList.contains("disabled")){var n=t.target.parentElement.parentElement,i=n.previousElementSibling&&n.previousElementSibling.classList.contains("ed-devoir-day-wrapper"),a=n.nextElementSibling&&n.nextElementSibling.classList.contains("ed-devoir-day-wrapper"),r=null;"previous"===e&&i?r=n.previousElementSibling:"next"===e&&a&&(r=n.nextElementSibling),r&&(n.classList.remove("active"),r.classList.add("active"),i=r.previousElementSibling&&r.previousElementSibling.classList.contains("ed-devoir-day-wrapper"),a=r.nextElementSibling&&r.nextElementSibling.classList.contains("ed-devoir-day-wrapper"),i||r.querySelector(".ed-devoir-header-arrow-left").classList.add("disabled"),a||r.querySelector(".ed-devoir-header-arrow-right").classList.add("disabled"))}}},{key:"getdevoirRow",value:function(e,t){var n=e.description.trim().replace("\n","<br />");return Qt(E||(E=Ye(['\n      <tr class="','">\n        <td class="devoir-detail">\n          <label for="devoir-','">\n            <span class="devoir-subject">',"</span>\n            ",'\n          </label>\n          <input type="checkbox" id="devoir-','" />\n          <span class="devoir-description">','</span>\n        </td>\n        <td class="devoir-status">\n          <span\n            >',"</span\n          >\n        </td>\n      </tr>\n    "])),e.effectue?"devoir-done":"",t,e.matiere,e.interrogation?Qt($||($=Ye(['<span class="devoir-controle">(Contrôle)</span>']))):Qt(S||(S=Ye([""]))),t,Jt(n),e.effectue?Qt(C||(C=Ye(['<ha-icon icon="mdi:check"></ha-icon>']))):Qt(F||(F=Ye(['<ha-icon icon="mdi:account-clock"></ha-icon>']))))}},{key:"getDayRow",value:function(e,t,n){return Qt(O||(O=Ye(['\n      <div\n        class="'," ed-devoir-day-wrapper ",'"\n      >\n        ','\n        <table class="','">\n          ',"\n        </table>\n      </div>\n    "])),this.config.enable_slider?"slider-enabled":"",0===n?"active":"",this.getDayHeader(e,n),this.config.reduce_done_devoir?"reduce-done":"",t)}},{key:"render",value:function(){if(!this.config||!this.hass)return Qt(j||(j=Ye([""])));var e=this.hass.states[this.config.entity],t=this.hass.states[this.config.entity].attributes.Devoirs;if(e){var n=[],i=[],a=0;if(t&&t.length>0){if(t[0].Erreur)return Qt(R||(R=Ye(['<div class="ed-card-no-data">',"</div>"])),t[0].Erreur);for(var r=this.getFormattedDate(t[0].date),o=0;o<t.length;o++){var s=t[o],l=this.getFormattedDate(s.date);!0===s.effectue&&!1===this.config.display_done_devoir||(r!==l&&(i.length>0&&(n.push(this.getDayRow(t[o-1],i,a)),i=[]),r=l,a++),i.push(this.getdevoirRow(s,o)))}i.length>0&&n.push(this.getDayRow(t[t.length-1],i,a))}return 0===n.length&&n.push(this.noDataMessage()),Qt(P||(P=Ye([' <ha-card\n        id="','-card"\n        class="','"\n      >\n        ',"\n        ","\n      </ha-card>"])),this.config.entity,this.config.enable_slider?"ed-devoir-card-slider":"",this.config.display_header?this.getCardHeader():"",n)}return Qt(H||(H=Ye(['<div class="ed-card-no-data">\n      Veuillez choisir une autre entité\n    </div>'])))}},{key:"setConfig",value:function(e){if(!e.entity)throw new Error("Vous devez définir une entité");this.config=Ge(Ge({},{entity:null,display_header:!0,reduce_done_devoir:!0,display_done_devoir:!0,enable_slider:!1}),e),this.header_title="Devoirs de ",this.no_data_message="Pas de devoirs à faire"}}],[{key:"styles",get:function(){return en(T||(T=Ye(["\n      ","\n      .ed-devoir-card-slider .ed-devoir-day-wrapper {\n        display: none;\n      }\n      .ed-devoir-card-slider .ed-devoir-day-wrapper.active {\n        display: block;\n      }\n      .ed-devoir-card-slider .ed-devoir-header-date {\n        display: inline-block;\n        text-align: center;\n        width: 120px;\n      }\n      .ed-devoir-header-arrow-left,\n      .ed-devoir-header-arrow-right {\n        cursor: pointer;\n      }\n      .ed-devoir-header-arrow-left.disabled,\n      .ed-devoir-header-arrow-right.disabled {\n        opacity: 0.3;\n        pointer-events: none;\n      }\n      div:not(.slider-enabled) > .ed-devoir-header {\n        border-bottom: 2px solid grey;\n      }\n      .slider-enabled > .ed-devoir-header {\n        padding-top: 0;\n        text-align: center;\n      }\n      table {\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      td {\n        vertical-align: top;\n        padding: 5px 10px 5px 10px;\n        padding-top: 8px;\n        text-align: left;\n      }\n      td.devoir-detail {\n        padding: 0;\n        padding-top: 8px;\n        padding-bottom: 8px;\n      }\n      span.devoir-subject {\n        display: block;\n        font-weight: bold;\n      }\n      span.devoir-controle {\n        display: block;\n        font-weight: bold;\n        color: red;\n      }\n      span.devoir-description {\n        font-size: 0.9em;\n      }\n      td.devoir-status {\n        width: 5%;\n      }\n      .reduce-done .devoir-done label:hover {\n        cusor: pointer;\n      }\n      .reduce-done .devoir-done .devoir-description {\n        display: none;\n      }\n      .reduce-done .devoir-done input:checked + .devoir-description {\n        display: block;\n      }\n      .devoir-detail input {\n        display: none;\n      }\n    "])),Ie(e,"styles",this))}},{key:"getStubConfig",value:function(){return{display_header:!0,reduce_done_devoir:!0,display_done_devoir:!0,enable_slider:!1}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-devoirs-card-editor")}}])}();customElements.define("ecole_directe-devoirs-card",tn),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-devoirs-card",name:"Carte des devoirs pour Ecole Directe",description:"Affiche les devoirs pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#devoirs"});var nn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),an=nn.prototype.html,rn=nn.prototype.css,on=function(){function e(){return Ze(this,e),Qe(this,e,arguments)}return nt(e,st),Je(e,[{key:"initCard",value:function(){this.items_attribute_key="notes",this.header_title="Notes de ",this.no_data_message="Aucune note disponible"}},{key:"getFormattedDate",value:function(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"short",day:"2-digit",month:"2-digit"}).replace(/^(.)/,function(e){return e.toUpperCase()})}},{key:"getGradeRow",value:function(e){var t=parseFloat(e.note.replace(",",".")),n=[];if(null!==this.config.compare_with_ratio){var i=parseFloat(this.config.compare_with_ratio),a=t/parseFloat(e.sur.replace(",","."));n.push(a>=i?"above-ratio":"below-ratio")}else if(this.config.compare_with_class_average&&e.moyenne_classe){var r=parseFloat(e.moyenne_classe.replace(",","."));n.push(t>r?"above-average":"below-average")}var o=e.note_sur;if("short"===this.config.grade_format&&(o=e.note),this.config.display_new_grade_notice){var s=new Date(e.date),l=new Date;s.getFullYear()===l.getFullYear()&&s.getMonth()===l.getMonth()&&s.getDate()===l.getDate()&&n.push("new-grade")}return an(M||(M=Ye(['\n      <tr class="','">\n        <td class="grade-color"><span></span></td>\n        <td class="grade-description">\n          <span class="grade-subject">',"</span>\n          ","\n          ","\n          ",'\n        </td>\n        <td class="grade-detail">\n          <span class="grade-value">',"</span>\n          ","\n          ","\n          ","\n        </td>\n      </tr>\n    "])),n.join(" "),e.matiere,this.config.display_comment?an(N||(N=Ye(['<span class="grade-comment">',"</span>"])),e.commentaire):"",this.config.display_date?an(L||(L=Ye(['<span class="grade-date"\n                >',"</span\n              >"])),this.getFormattedDate(e.date)):"",this.config.display_coefficient&&e.coefficient?an(I||(I=Ye(['<span class="grade-coefficient"\n                >Coef. ',"</span\n              >"])),e.coefficient):"",o,this.config.display_class_average&&e.moyenne_classe?an(q||(q=Ye(['<span class="grade-class-average"\n                >Moy. ',"</span\n              >"])),e.moyenne_classe):"",this.config.display_class_min&&e.min?an(z||(z=Ye(['<span class="grade-class-min">Min. ',"</span>"])),e.min):"",this.config.display_class_max&&e.max?an(U||(U=Ye(['<span class="grade-class-max">Max. ',"</span>"])),e.max):"")}},{key:"getCardContent",value:function(){var e,t=this.hass.states[this.config.entity],n=this.getItems(),i=null!==(e=this.config.max_grades)&&void 0!==e?e:n.length;if(t){for(var a=[],r=[],o=0;o<i&&!(o>=n.length);o++){var s=n[o];a.push(this.getGradeRow(s))}return a.length>0?r.push(an(B||(B=Ye(["<table>\n            ","\n          </table>"])),a)):r.push(this.noDataMessage()),r}}},{key:"getDefaultConfig",value:function(){return{grade_format:"full",display_header:!0,display_date:!0,display_comment:!0,display_class_average:!0,compare_with_class_average:!0,compare_with_ratio:null,display_coefficient:!0,display_class_min:!0,display_class_max:!0,display_new_grade_notice:!0,max_grades:null}}}],[{key:"styles",get:function(){return rn(V||(V=Ye(["\n      ",'\n      table {\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      td {\n        vertical-align: top;\n        padding: 5px 10px 5px 10px;\n        padding-top: 8px;\n        text-align: left;\n      }\n      td.grade-color {\n        width: 4px;\n        padding-top: 11px;\n      }\n      td.grade-color > span {\n        display: inline-block;\n        width: 4px;\n        height: 1rem;\n        border-radius: 4px;\n        background-color: grey;\n      }\n      .above-average .grade-color > span,\n      .above-ratio .grade-color > span {\n        background-color: green;\n      }\n      .below-average .grade-color > span,\n      .below-ratio .grade-color > span {\n        background-color: orange;\n      }\n      .grade-description {\n        padding-left: 0;\n      }\n      .grade-subject {\n        display: inline-block;\n        font-weight: bold;\n        position: relative;\n      }\n      .new-grade .grade-subject:after {\n        content: " ";\n        display: block;\n        width: 6px;\n        height: 6px;\n        border-radius: 6px;\n        background-color: orange;\n        position: absolute;\n        top: 6px;\n        right: -14px;\n      }\n      .grade-comment {\n        display: block;\n      }\n      .grade-date,\n      .grade-coefficient {\n        font-size: 0.9em;\n        color: gray;\n      }\n      .grade-date + .grade-coefficient:before {\n        content: " - ";\n      }\n      .grade-detail {\n        text-align: right;\n      }\n      .grade-value {\n        font-weight: bold;\n      }\n      .grade-value,\n      .grade-class-average {\n        display: block;\n      }\n      .grade-class-average,\n      .grade-class-min,\n      .grade-class-max {\n        font-size: 0.9em;\n        color: gray;\n      }\n      .grade-class-min + .grade-class-max:before {\n        content: " - ";\n      }\n    '])),Ie(e,"styles",this))}},{key:"getStubConfig",value:function(){return{grade_format:"full",display_header:!0,display_date:!0,display_comment:!0,display_class_average:!0,compare_with_class_average:!0,compare_with_ratio:null,display_coefficient:!0,display_class_min:!0,display_class_max:!0,display_new_grade_notice:!0,max_grades:null}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-notes-card-editor")}}])}();customElements.define("ecole_directe-notes-card",on),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-notes-card",name:"Carte des notes pour Ecole Directe",description:"Affiche les notes pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#notes"});var sn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),ln=sn.prototype.html,cn=sn.prototype.css,dn=function(){function e(){return Ze(this,e),Qe(this,e,arguments)}return nt(e,st),Je(e,[{key:"initCard",value:function(){this.items_attribute_key="averages",this.header_title="Moyennes de ",this.no_data_message="Aucune moyenne"}},{key:"getOverallAverageRow",value:function(){var e="".concat(this.config.entity,"_overall_average");if(!this.hass.states[e])return ln(G||(G=Ye([""])));var t=this.hass.states[e].state;if(!t)return ln(W||(W=Ye([""])));var n=parseFloat(t.replace(",",".")),i=[];if(null!==this.config.compare_with_ratio){var a=parseFloat(this.config.compare_with_ratio),r=n/parseFloat(t.out_of.replace(",","."));i.push(r>=a?"above-ratio":"below-ratio")}return ln(Y||(Y=Ye(['\n      <tr class="',' overall-average">\n        <td class="average-color"><span></span></td>\n        <td class="average-description">\n          <span class="average-subject">Moyenne générale</span>\n        </td>\n        <td class="average-detail">\n          <span class="average-value"\n            ><span>',"</span></span\n          >\n        </td>\n      </tr>\n    "])),i.join(" "),t.replace(".",","))}},{key:"getAverageRow",value:function(e){var t=parseFloat(e.average.replace(",",".")),n=[];if(null!==this.config.compare_with_ratio){var i=parseFloat(this.config.compare_with_ratio),a=t/parseFloat(e.out_of.replace(",","."));n.push(a>=i?"above-ratio":"below-ratio")}else if(this.config.compare_with_class_average&&e.class){var r=parseFloat(e.class.replace(",","."));n.push(t>r?"above-average":"below-average")}var o=e.average+"/"+e.out_of;return"short"===this.config.average_format&&(o=e.average),ln(Z||(Z=Ye(['\n      <tr class="','">\n        <td class="average-color">\n          <span style="background-color:','"></span>\n        </td>\n        <td class="average-description">\n          <span class="average-subject">','</span>\n        </td>\n        <td class="average-detail">\n          <span class="average-value">',"</span>\n          ","\n          ","\n          ","\n        </td>\n      </tr>\n    "])),n.join(" "),e.background_color,e.subject,o,this.config.display_class_average&&e.class?ln(X||(X=Ye(['<span class="average-class-average"\n                >Classe ',"</span\n              >"])),e.class):"",this.config.display_class_min&&e.min?ln(J||(J=Ye(['<span class="average-class-min"\n                >Min. ',"</span\n              >"])),e.min):"",this.config.display_class_max&&e.max?ln(K||(K=Ye(['<span class="average-class-max"\n                >Max. ',"</span\n              >"])),e.max):"")}},{key:"getCardContent",value:function(){if(this.hass.states[this.config.entity]){var e=this.getItems(),t=[],n=[];this.config.display_overall_average&&n.push(this.getOverallAverageRow(e));for(var i=0;i<e.length;i++){var a=e[i];n.push(this.getAverageRow(a))}return n.length>0?t.push(ln(Q||(Q=Ye(["<table>\n            ","\n          </table>"])),n)):t.push(this.noDataMessage()),t}return[]}},{key:"getDefaultConfig",value:function(){return{average_format:"full",display_header:!0,display_class_average:!0,compare_with_class_average:!0,compare_with_ratio:null,display_class_min:!0,display_class_max:!0,display_overall_average:!0}}}],[{key:"styles",get:function(){return cn(ee||(ee=Ye(["\n      ",'\n      table {\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      td {\n        vertical-align: top;\n        padding: 5px 10px 5px 10px;\n        padding-top: 8px;\n        text-align: left;\n      }\n      tr.overall-average {\n        border-bottom: 1px solid #393c3d;\n      }\n      tr.overall-average td {\n        text-transform: uppercase;\n        padding-bottom: 10px;\n      }\n      tr.overall-average .average-value span {\n        padding: 5px;\n        border-radius: 5px;\n        border: 1px solid var(--primary-text-color);\n      }\n      tr.overall-average tr td {\n        padding-top: 10px;\n      }\n      td.average-comparison-color,\n      td.average-color {\n        width: 4px;\n        padding-top: 11px;\n      }\n      td.average-comparison-color > span,\n      td.average-color > span {\n        display: inline-block;\n        width: 4px;\n        height: 1rem;\n        border-radius: 4px;\n        background-color: grey;\n      }\n\n      .above-average .average-detail,\n      .above-ratio .average-detail,\n      .below-average .average-detail,\n      .below-ratio .average-detail {\n        position: relative;\n      }\n      .above-average span.average-value,\n      .above-ratio span.average-value,\n      .below-average span.average-value,\n      .below-ratio span.average-value {\n        padding-right: 16px;\n      }\n      .above-average span.average-value:before,\n      .above-ratio span.average-value:before,\n      .below-average span.average-value:before,\n      .below-ratio span.average-value:before {\n        content: " ";\n        display: block;\n        width: 10px;\n        height: 10px;\n        border-radius: 5px;\n        position: absolute;\n        right: 10px;\n        top: 13px;\n      }\n      .above-average span.average-value:before,\n      .above-ratio span.average-value:before {\n        background-color: green;\n      }\n      .below-average span.average-value:before,\n      .below-ratio span.average-value:before {\n        background-color: orange;\n      }\n      .average-description {\n        padding-left: 0;\n      }\n      .average-subject {\n        display: inline-block;\n        font-weight: bold;\n        position: relative;\n      }\n      .average-detail {\n        text-align: right;\n      }\n      .average-value {\n        font-weight: bold;\n      }\n      .average-value,\n      .average-class-average {\n        display: block;\n      }\n      .average-class-average,\n      .average-class-min,\n      .average-class-max {\n        font-size: 0.9em;\n        color: gray;\n      }\n      .average-class-min + .average-class-max:before {\n        content: " - ";\n      }\n    '])),Ie(e,"styles",this))}},{key:"getStubConfig",value:function(){return{average_format:"full",display_header:!0,display_class_average:!0,compare_with_class_average:!0,compare_with_ratio:null,display_class_min:!0,display_class_max:!0}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-averages-card-editor")}}])}();customElements.define("ecole_directe-moyennes-card",dn),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-moyennes-card",name:"Carte des moyennes pour Ecole Directe",description:"Affiche les moyennes pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#moyennes"});var un=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),hn=un.prototype.html,pn=un.prototype.css,fn=function(){function e(){return Ze(this,e),Qe(this,e,arguments)}return nt(e,st),Je(e,[{key:"initCard",value:function(){this.items_attribute_key="Evaluations",this.header_title="Evaluations de ",this.no_data_message="Pas d'évaluation à afficher"}},{key:"getFormattedDate",value:function(e){return new Date(e).toLocaleDateString("fr-FR",{weekday:"short",day:"2-digit",month:"2-digit"}).replace(/^(.)/,function(e){return e.toUpperCase()})}},{key:"getAcquisitionRow",value:function(e){return hn(te||(te=Ye(['<tr class="acquisition-row">\n      <td>',"</td>\n      <td>","</td>\n    </tr>"])),e.competence,this.getAcquisitionIcon(e))}},{key:"getAcquisitionIcon",value:function(e){var t=this.config.mapping_evaluations[e.valeur]||e.valeur,n="";return"A+"===t?n="+":"Abs"===t&&(n="a"),hn(ne||(ne=Ye(['\n      <span\n        title="','"\n        class="acquisition-icon acquisition-icon-','"\n      >\n        ',"\n      </span>\n    "])),t,t.replace("+","plus"),n)}},{key:"getEvaluationRow",value:function(e,t){for(var n=e.acquisitions,i=[],a=[],r=0;r<n.length;r++)i.push(this.getAcquisitionIcon(n[r])),a.push(this.getAcquisitionRow(n[r]));return hn(ie||(ie=Ye(['\n      <tr class="evaluation-row">\n        <td class="evaluation-color">\n          <span style="background-color:','"></span>\n        </td>\n        <td class="evaluation-description">\n          <label for="evaluation-full-detail-','">\n            <span class="evaluation-subject">','</span>\n          </label>\n          <input type="checkbox" id="evaluation-full-detail-','" />\n          ',"\n          ","\n          ",'\n        </td>\n        <td class="evaluation-detail">',"</td>\n      </tr>\n      ","\n    "])),"grey",t,e.matiere,t,this.config.display_comment?hn(ae||(ae=Ye(['<span class="evaluation-comment">',"</span>"])),e.devoir):"",this.config.display_date?hn(re||(re=Ye(['<span class="evaluation-date"\n                >',"</span\n              >"])),this.getFormattedDate(e.date)):"",this.config.display_coefficient&&e.coefficient?hn(oe||(oe=Ye(['<span class="evaluation-coefficient"\n                >Coef. ',"</span\n              >"])),e.coefficient):"",i,a)}},{key:"getCardContent",value:function(){if(this.hass.states[this.config.entity]){for(var e,t=this.getItems(),n=null!==(e=this.config.max_evaluations)&&void 0!==e?e:t.length,i=[],a=[],r=0;r<n;r++){var o=t[r];i.push(this.getEvaluationRow(o,r))}return i.length>0?a.push(hn(se||(se=Ye(["<table>\n            ","\n          </table>"])),i)):a.push(this.noDataMessage()),a}return[]}},{key:"getDefaultConfig",value:function(){return{display_header:!0,display_description:!0,display_teacher:!0,display_date:!0,display_comment:!0,display_coefficient:!0,max_evaluations:null,mapping_evaluations:{}}}}],[{key:"styles",get:function(){return pn(le||(le=Ye(["\n      ",'\n      table {\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      td {\n        vertical-align: top;\n        padding: 5px 10px 5px 10px;\n        text-align: left;\n      }\n      td.evaluation-color {\n        width: 4px;\n        padding-top: 11px;\n      }\n      td.evaluation-color > span {\n        display: inline-block;\n        width: 4px;\n        height: 2rem;\n        border-radius: 4px;\n        background-color: grey;\n      }\n      .above-average .evaluation-color > span,\n      .above-ratio .evaluation-color > span {\n        background-color: green;\n      }\n      .below-average .evaluation-color > span,\n      .below-ratio .evaluation-color > span {\n        background-color: orange;\n      }\n      .evaluation-subject {\n        font-weight: bold;\n        display: block;\n      }\n      .evaluation-description {\n        display: block;\n      }\n      .evaluation-teacher {\n        display: block;\n      }\n      .evaluation-date,\n      .evaluation-coefficient {\n        font-size: 0.9em;\n        color: gray;\n      }\n      .evaluation-comment {\n        display: block;\n      }\n      .evaluation-date + .evaluation-coefficient:before {\n        content: " - ";\n      }\n      .evaluation-detail {\n        text-align: right;\n      }\n      .evaluation-value {\n        font-weight: bold;\n      }\n      .acquisition-icon {\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n        border-radius: 50%;\n        border: solid 0.02em rgba(0, 0, 0, 0.5);\n        margin-left: 4px;\n        vertical-align: middle;\n        color: white;\n        content: "+";\n        text-align: center;\n        line-height: 14px;\n      }\n      .acquisition-icon-Aplus {\n        background-color: #008000;\n      }\n      .acquisition-icon-A {\n        background-color: #45b851;\n      }\n      .acquisition-icon-B {\n        background-color:;\n      }\n      .acquisition-icon-C {\n        background-color: #ffda01;\n      }\n      .acquisition-icon-D {\n        background-color: #f80a0a;\n      }\n      .acquisition-icon-E {\n        background-color: #f80a0a;\n      }\n      .acquisition-row {\n        display: none;\n      }\n      input[type="checkbox"] {\n        display: none;\n      }\n      /** FIXME\n        .evaluation-row:has(input:checked) .acquisition-icon {\n            display:none;\n        }\n        .evaluation-row:has(input:checked) + .acquisition-row {\n            display: table-row;\n        }\n        */\n      .acquisition-row td:nth-child(2) {\n        text-align: right;\n      }\n    '])),Ie(e,"styles",this))}},{key:"getStubConfig",value:function(){return{display_header:!0,display_description:!0,display_teacher:!0,display_date:!0,display_comment:!0,display_coefficient:!0,max_evaluations:null,mapping_evaluations:{}}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-evaluations-card-editor")}}])}();customElements.define("ecole_directe-evaluations-card",fn),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-evaluations-card",name:"Carte des évaluations pour Ecole Directe",description:"Affiche les évaluations pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#evaluations"});var gn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),vn=gn.prototype.html,yn=gn.prototype.css,_n=function(){function e(){return Ze(this,e),Qe(this,e,arguments)}return nt(e,st),Je(e,[{key:"getAbsencesRetardsRow",value:function(e){var t=vn(ce||(ce=Ye(['\n      <tr>\n        <td class="absence-status">\n          <span\n            >','</span\n          >\n        </td>\n        <td>\n          <span\n            style="background-color:','"\n          ></span>\n        </td>\n        <td>\n          <span class="absence-from">','</span\n          ><br /><span class="absence-hours">','</span>\n        </td>\n        <td>\n          <span class="absence-reason">',"</span>\n        </td>\n      </tr>\n    "])),e.justifie?vn(de||(de=Ye(['<ha-icon icon="mdi:check"></ha-icon>']))):vn(ue||(ue=Ye(['<ha-icon icon="mdi:clock-alert-outline"></ha-icon>']))),e.justifie?"#107c41":"#e73a1f",e.display_date,e.libelle,e.motif);return vn(he||(he=Ye(["",""])),t)}},{key:"initCard",value:function(){this.hass.states[this.config.entity].attributes.Absences?(this.items_attribute_key="Absences",this.header_title="Absences de ",this.no_data_message="Aucune absence"):(this.items_attribute_key="Retards",this.header_title="Retards de ",this.no_data_message="Aucun retard")}},{key:"getCardContent",value:function(){if(this.hass.states[this.config.entity]){for(var e=this.getItems(),t=[],n=[],i=0;i<e.length&&!(this.config.max&&this.config.max<i);i++)n.push(this.getAbsencesRetardsRow(e[i]));return e.length>0?t.push(vn(pe||(pe=Ye(["<table>\n            ","\n          </table>"])),n)):t.push(this.noDataMessage()),t}}},{key:"getDefaultConfig",value:function(){return{display_header:!0,max:null}}}],[{key:"styles",get:function(){return yn(fe||(fe=Ye(["\n      ","\n      table {\n        clear: both;\n        font-size: 0.9em;\n        font-family: Roboto;\n        width: 100%;\n        outline: 0px solid #393c3d;\n        border-collapse: collapse;\n      }\n      tr:nth-child(odd) {\n        background-color: rgba(0, 0, 0, 0.1);\n      }\n      td {\n        vertical-align: middle;\n        padding: 5px 10px 5px 10px;\n        text-align: left;\n      }\n      tr td:first-child {\n        width: 10%;\n        text-align: right;\n      }\n      span.absence-reason {\n        font-weight: bold;\n        display: block;\n      }\n      tr td:nth-child(2) {\n        width: 4px;\n        padding: 5px 0;\n      }\n      tr td:nth-child(2) > span {\n        display: inline-block;\n        width: 4px;\n        height: 3rem;\n        border-radius: 4px;\n        background-color: grey;\n        margin-top: 4px;\n      }\n      span.absence-from {\n        font-weight: bold;\n        padding: 4px;\n        border-radius: 4px;\n      }\n      span.absence-hours {\n        font-size: 0.9em;\n        padding: 4px;\n      }\n      table + div {\n        border-top: 1px solid white;\n      }\n    "])),Ie(e,"styles",this))}},{key:"getStubConfig",value:function(){return{display_header:!0,max:null}}},{key:"getConfigElement",value:function(){return document.createElement("ecole_directe-absences-retards-card-editor")}}])}();customElements.define("ecole_directe-absences-retards-card",_n),window.customCards=window.customCards||[],window.customCards.push({type:"ecole_directe-absences-retards-card",name:"Carte Absences/Retards pour Ecole Directe",description:"Affiche les absences ou les retards pour Ecole Directe",documentationURL:"https://github.com/hacf-fr/EcoleDirecteHACards?tab=readme-ov-file#absences"});var mn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")),bn=mn.prototype.html,wn=mn.prototype.css,kn=function(){function e(){return Ze(this,e),Qe(this,e,arguments)}return nt(e,mn),Je(e,[{key:"setConfig",value:function(e){this._config=e,this.loadEntityPicker()}},{key:"_valueChanged",value:function(e){var t=Object.assign({},this._config);void 0!==e.target.checked?t[e.target.configValue]=e.target.checked:t[e.target.configValue]=""==e.target.value?null:e.target.value,this._config=t;var n=new CustomEvent("config-changed",{detail:{config:t},bubbles:!0,composed:!0});this.dispatchEvent(n)}},{key:"buildSelectField",value:function(e,t,n,i,a){for(var r=[],o=0;o<n.length;o++){var s=n[o];r.push(bn(ge||(ge=Ye(['<ha-list-item .value="','"\n          >',"</ha-list-item\n        >"])),s.value,s.label))}return bn(ve||(ve=Ye(['\n      <ha-select\n        label="','"\n        .value=',"\n        .configValue=","\n        @change=","\n        @closed=","\n      >\n        ","\n      </ha-select>\n    "])),e,i||a,t,this._valueChanged,function(e){return e.stopPropagation()},r)}},{key:"buildSwitchField",value:function(e,t,n,i){return"boolean"!=typeof n&&(n=i),bn(ye||(ye=Ye(['\n      <ha-formfield class="switch-wrapper" .label="','">\n        <ha-switch\n          name="','"\n          .checked=','\n          .configValue="','"\n          @change=',"\n        ></ha-switch>\n      </ha-formfield>\n    "])),e,t,n,t,this._valueChanged)}},{key:"buildNumberField",value:function(e,t,n,i,a){return bn(_e||(_e=Ye(['\n      <ha-textfield\n        type="number"\n        step="','"\n        label="','"\n        .value=',"\n        .configValue=","\n        @change=","\n      >\n      </ha-textfield>\n    "])),a||1,e,n||i,t,this._valueChanged)}},{key:"buildTextField",value:function(e,t,n,i){return bn(me||(me=Ye(['\n      <ha-textfield\n        label="','"\n        .value=',"\n        .configValue=","\n        @change=","\n        @keyup=","\n      >\n      </ha-textfield>\n    "])),e,n||i,t,this._valueChanged,this._valueChanged)}},{key:"buildEntityPickerField",value:function(e,t,n,i){var a=new RegExp("ed_[a-z]+_[a-z]+_"+i);return bn(be||(be=Ye(['\n      <ha-entity-picker\n        label="','"\n        .hass=',"\n        .value=","\n        .configValue=",'\n        .includeDomains="sensor"\n        .entityFilter="','"\n        @value-changed=',"\n        allow-custom-entity\n      ></ha-entity-picker>\n    "])),e,this.hass,n||"",t,function(e){return a.test(e.entity_id)},this._valueChanged)}},{key:"loadEntityPicker",value:(t=function(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function o(e){Te(r,i,a,o,s,"next",e)}function s(e){Te(r,i,a,o,s,"throw",e)}o(void 0)})}}(Pe().m(function e(){var t,n;return Pe().w(function(e){for(;;)switch(e.n){case 0:if(!window.customElements.get("ha-entity-picker")){e.n=1;break}return e.a(2);case 1:return e.n=2,window.loadCardHelpers();case 2:return t=e.v,e.n=3,t.createCardElement({type:"entities",entities:[]});case 3:return n=e.v,e.n=4,n.constructor.getConfigElement();case 4:return e.a(2)}},e)})),function(){return t.apply(this,arguments)})}],[{key:"properties",get:function(){return{hass:{},_config:{}}}},{key:"styles",get:function(){return wn(we||(we=Ye(["\n      ha-formfield {\n        display: block;\n        padding-top: 20px;\n        clear: right;\n      }\n      ha-formfield > ha-switch {\n        float: right;\n      }\n      ha-select,\n      ha-textfield {\n        clear: right;\n        width: 100%;\n        padding-top: 15px;\n      }\n    "])))}}]);var t}(),xn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,An=function(){function e(){return Ze(this,e),Qe(this,e,arguments)}return nt(e,kn),Je(e,[{key:"render",value:function(){return this.hass&&this._config?xn(xe||(xe=Ye(["\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Timetable entity","entity",this._config.entity,"emploi_du_temps_(semaine_en_cours|semaine_suivante|semaine_apres_suivante|aujourd_hui|demain|jour_suivant)"),this.buildSwitchField("Display header","display_header",this._config.display_header,!0),this.buildSwitchField("Display classroom","display_classroom",this._config.display_classroom,!0),this.buildSwitchField("Display teacher","display_teacher",this._config.display_teacher,!0),this.buildSwitchField("Display day hours","display_day_hours",this._config.display_day_hours,!0),this.buildSwitchField("Display lunch break","display_lunch_break",this._config.display_lunch_break,!0),this.buildSwitchField("Dim ended lessons","dim_ended_lessons",this._config.dim_ended_lessons,!0),this.buildSwitchField("Enable slider","enable_slider",this._config.enable_slider,!1),this.buildSwitchField("Auto switch to next day (if slider enabled)","switch_to_next_day",this._config.switch_to_next_day,!1),this.buildSwitchField("Display free time slots","display_free_time_slots",this._config.display_free_time_slots,!0)):xn(ke||(ke=Ye([""])))}}])}();customElements.define("ecole_directe-emploi_temps-card-editor",An);var Dn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,En=function(){function e(){return Ze(this,e),Qe(this,e,arguments)}return nt(e,kn),Je(e,[{key:"render",value:function(){return this.hass&&this._config?Dn(De||(De=Ye(["\n      ","\n      ","\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Devoir entity","entity",this._config.entity,"devoirs_(semaine_en_cours|semaine_suivante|semaine_apres_suivante|aujourd_hui|demain|jour_suivant)"),this.buildSwitchField("Display header","display_header",this._config.display_header),this.buildSwitchField("Reduce done devoir","reduce_done_devoir",this._config.reduce_done_devoir),this.buildSwitchField("Display done devoir","display_done_devoir",this._config.display_done_devoir),this.buildSwitchField("Enable slider","enable_slider",this._config.enable_slider,!1)):Dn(Ae||(Ae=Ye([""])))}}])}();customElements.define("ecole_directe-devoirs-card-editor",En);var $n=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,Sn=function(){function e(){return Ze(this,e),Qe(this,e,arguments)}return nt(e,kn),Je(e,[{key:"render",value:function(){return this.hass&&this._config?$n($e||($e=Ye(["\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Notes entity","entity",this._config.entity,"notes"),this.buildSwitchField("Display header","display_header",this._config.display_header),this.buildSwitchField("Display date","display_date",this._config.display_date),this.buildSwitchField("Display comment","display_comment",this._config.display_comment),this.buildSwitchField("Display class average","display_class_average",this._config.display_class_average),this.buildSwitchField("Compare with class average","compare_with_class_average",this._config.compare_with_class_average),this.buildSelectField("Grade format","grade_format",[{value:"full",label:"Full"},{value:"short",label:"Short"}],this._config.grade_format),this.buildSwitchField("Display coefficient","display_coefficient",this._config.display_coefficient),this.buildSwitchField("Display class min","display_class_min",this._config.display_class_min),this.buildSwitchField("Display class max","display_class_max",this._config.display_class_max),this.buildSwitchField("Display new grade notice","display_new_grade_notice",this._config.display_new_grade_notice)):$n(Ee||(Ee=Ye([""])))}}])}();customElements.define("ecole_directe-notes-card-editor",Sn);var Cn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,Fn=function(){function e(){return Ze(this,e),Qe(this,e,arguments)}return nt(e,kn),Je(e,[{key:"render",value:function(){return this.hass&&this._config?Cn(Ce||(Ce=Ye(["\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Evaluations entity","entity",this._config.entity,"evaluations"),this.buildSwitchField("Display header","display_header",this._config.display_header),this.buildSwitchField("Display description","display_description",this._config.display_description),this.buildSwitchField("Display teacher","display_teacher",this._config.display_teacher),this.buildSwitchField("Display date","display_date",this._config.display_date),this.buildSwitchField("Display comment","display_comment",this._config.display_comment),this.buildSwitchField("Display coefficient","display_coefficient",this._config.display_coefficient),this.buildNumberField("Max evaluations","max_evaluations",this._config.max_evaluations)):Cn(Se||(Se=Ye([""])))}}])}();customElements.define("ecole_directe-evaluations-card-editor",Fn);var On=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,jn=function(){function e(){return Ze(this,e),Qe(this,e,arguments)}return nt(e,kn),Je(e,[{key:"render",value:function(){return this.hass&&this._config?On(Oe||(Oe=Ye(["\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Averages entity","entity",this._config.entity,"averages"),this.buildSwitchField("Display header","display_header",this._config.display_header),this.buildSelectField("Average format","average_format",[{value:"full",label:"Full"},{value:"short",label:"Short"}],this._config.average_format),this.buildSwitchField("Display class average","display_class_average",this._config.display_class_average),this.buildSwitchField("Compare with class average","compare_with_class_average",this._config.compare_with_class_average),this.buildTextField("Compare with ratio","compare_with_ratio",this._config.compare_with_ratio,""),this.buildSwitchField("Display class min","display_class_min",this._config.display_class_min),this.buildSwitchField("Display class max","display_class_max",this._config.display_class_max),this.buildSwitchField("Display overall average","display_overall_average",this._config.display_overall_average,!0)):On(Fe||(Fe=Ye([""])))}}])}();customElements.define("ecole_directe-averages-card-editor",jn);var Rn=Object.getPrototypeOf(customElements.get("ha-panel-lovelace")).prototype.html,Pn=function(){function e(){return Ze(this,e),Qe(this,e,arguments)}return nt(e,kn),Je(e,[{key:"render",value:function(){return this.hass&&this._config?Rn(Re||(Re=Ye(["\n      ","\n      ","\n      ","\n    "])),this.buildEntityPickerField("Absences/Retards entity","entity",this._config.entity,"(absences|retards)"),this.buildSwitchField("Display header","display_header",this._config.display_header),this.buildNumberField("Max","max",this._config.max)):Rn(je||(je=Ye([""])))}}])}();customElements.define("ecole_directe-absences-retards-card-editor",Pn);
